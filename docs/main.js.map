{"version":3,"sources":["webpack:///webpack/bootstrap d8e17b6b609643be222e","webpack:///./docs/src/main.js","webpack:///./src/index.js","webpack:///./src/gtm/index.js","webpack:///./~/amp-merge/merge.js","webpack:///./~/amp-extend/extend.js","webpack:///./~/amp-is-object/is-object.js","webpack:///./src/gtm/googletagmanager.js","webpack:///./src/gtm/getGtmContainerId.js","webpack:///./src/gtm/viewport.js","webpack:///./src/dealer-gtm.js","webpack:///./src/ga4-tracking.js","webpack:///./src/ga4-event-parameters.js","webpack:///./src/cookieHelper.js","webpack:///./src/trackingElement.js","webpack:///./src/clickTrackingAttributes.js","webpack:///./src/oewa.js"],"names":["tracking","require","window","ut","trackingEnabled","location","hash","indexOf","startTracking","gtm","dealerGtm","ga4Tracking","processCommand","data","fn","args","trackGA4Event","trackGA4PageViewEvent","setPagename","slice","apply","__tcfapi","userCallback","callback","partialTcData","success","eventStatus","tcData","purpose","legitimateInterests","consents","push","Array","prototype","arguments","forEach","module","exports","hostname","split","pop","run","console","log","merge","containerId","viewport","pagename","pn","generateCommonParams","mergedPagename","country","market","category","pageid","environment","Error","JSON","stringify","commonPageName","group","filter","x","join","layer","commonData","common_country","common_market","common_category","common_pageid","common_pageName","common_environment","common_language","language","common_group","common_layer","common_attribute","attribute","common_linkgroup","linkgroup","common_linkid","linkid","common_techState","techState","trackClick","params","eventcategory","eventaction","event","event_category","event_action","event_label","eventlabel","event_non_interaction","firstPageview","trackPageview","setTimeout","loadContainer","set","pageview","click","extend","call","unshift","isObject","obj","source","prop","i","length","type","dataLayer","useNewArrayLogic","href","domainsThatRequireConsent","gtmAlreadyLoadedClassName","alreadyInitiatedMainGtmContainerLoaded","document","documentElement","className","tld","includes","listenerId","w","d","s","l","Date","getTime","f","getElementsByTagName","j","createElement","dl","async","src","parentNode","insertBefore","map","key","toLower","val","toLowerCase","containerIdsByTld","de","at","be","lu","es","fr","it","nl","com","isIdentityPage","extractTldFromRedirectUrl","url","regexp","RegExp","matches","match","viewportWidth","Math","min","clientWidth","innerWidth","screen","width","session_viewport","currentVehicles","add","commit","list_productidsall","waitTillGA4PageView","dealerId","ga4ClientId","gaUserId","loginStatus","adBlockerUsage","customerId","otherData","name","eventDetails","details","undefined","Object","entries","value","event_name","event_type","event_details","eventData","dataLayerVariables","common_countryObj","find","dealerIdValue","content_id","dealer_id","ga4_client_id","ga_user_id","login_status","adblocker_usage","customer_id","cookieHelper","some","e","ssoToken","res","read","trim","parseJwt","token","partials","jsonPayload","decodeURIComponent","atob","parse","fallbackToUserCookie","userCookie","userCookieArray","el","variantCustomerId","user","ctid","clientIdCookie","splitted_cookie","visitorCookie","classifiedCustomerId","chefplatzDealerId","doc","readCookie","options","decodingFunction","cookie","replace","encodeURIComponent","setCookie","test","expiresString","expires","date","setTime","toGMTString","encodingFunction","domain","path","secure","removeCookie","hasCookie","remove","as24tracking","create","HTMLElement","inDev","supportedActions","supportedTypes","reservedWords","attachedCallback","values","getAdditionalProperties","getAttribute","action","keys","splice","clickTarget","elements","querySelectorAll","addEventListener","track","trackingValue","isArray","attributes","element","nodeName","reduce","prev","curr","attrName","decodeAttributeName","nodeValue","g","toUpperCase","ctor","constructor","HTMLUnknownElement","registerElement","warn","node","target","rawValue","error","pathname","pixelPath","detailPage","loadScript","then","iom","oewa_data","cn","st","cp","sv","ps","c","allPages","Promise","resolve","script","ref","onload","onDetailPage","startsWith","querySelector"],"mappings":"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","file":"./docs/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d8e17b6b609643be222e","var tracking = require('../../src/index.js');\nwindow.ut = tracking.ut || [];\n\n\n\n// WEBPACK FOOTER //\n// ./docs/src/main.js","const trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\nconst startTracking = () => {\n    var gtm = require('./gtm');\n    var dealerGtm = require('./dealer-gtm');\n    const ga4Tracking = require('./ga4-tracking');\n\n    function processCommand(data) {\n        var fn, args;\n\n        if (data[0] === 'ga4Event') {\n            ga4Tracking.trackGA4Event(data[1], data[2]);\n        }\n\n        if (data[0] === 'ga4PageviewEvent') {\n            ga4Tracking.trackGA4PageViewEvent(data[1], data[2]);\n        }\n\n        if (data[0] === 'pagename') {\n            gtm.setPagename(data[1]);\n        }\n\n        if (data[0] === 'gtm') {\n            fn = gtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(gtm, args);\n            }\n        }\n\n        if (data[0] === 'dealer-gtm') {\n            fn = dealerGtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(dealerGtm, args);\n            }\n        }\n        \n        if (data[0] === 'cmp' && window.__tcfapi && data[1] === 'onPersonalizedCookiesAllowed' && typeof data[2] === 'function') {\n            var userCallback = data[2];\n\n            var callback = (partialTcData, success) => {\n                if (\n                    success &&\n                    (partialTcData.eventStatus === 'tcloaded' || partialTcData.eventStatus === 'useractioncomplete')\n                ) {\n                    window.__tcfapi('getFullTCData', 2, (tcData) => {\n                        if (tcData.purpose.legitimateInterests['25'] && tcData.purpose.consents['26']) {\n                            userCallback();\n                        }\n                        window.__tcfapi('removeEventListener', 2, callback);\n                    });\n                }\n            };\n\n            window.__tcfapi('addEventListener', 2, callback);\n        }\n    }\n\n    var ut = window.ut || (window.ut = []);\n\n    if (ut.push === Array.prototype.push) {\n        ut.push = function () {\n            Array.prototype.push.apply(window.ut, arguments);\n            processCommand.apply({}, arguments);\n        };\n\n        ut.forEach(processCommand);\n    }\n\n    require('./trackingElement');\n\n    module.exports = {\n        gtm: gtm,\n        ut: ut,\n    };\n};\n\nrequire('./clickTrackingAttributes.js');\n\n// if (window.location.hostname.split('.').pop() === 'de') {\n//     require('./ivw');\n// }\n\nif (window.location.hostname.split('.').pop() === 'at') {\n    require('./oewa');\n}\n\nconst run = () => {\n    if (!trackingEnabled) {\n        console.log('Tracking disabled');\n        return;\n    }\n\n    startTracking();\n};\n\nrun();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var merge = require('amp-merge');\n\nvar gtm = require('./googletagmanager');\nvar containerId = require('./getGtmContainerId')(location.hostname);\nvar viewport = require('./viewport');\n\nvar pagename;\n\nfunction setPagename(pn) {\n    pagename = pn;\n}\n\nfunction generateCommonParams(data) {\n    var mergedPagename = merge({}, pagename, data);\n\n    if (\n        !mergedPagename ||\n        !mergedPagename.country ||\n        !mergedPagename.market ||\n        !mergedPagename.category ||\n        !mergedPagename.pageid ||\n        !mergedPagename.environment\n    ) {\n        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n        }\n        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n    }\n\n    var commonPageName = [\n        mergedPagename.country,\n        mergedPagename.market,\n        mergedPagename.category,\n        mergedPagename.group,\n        mergedPagename.pageid,\n    ]\n        .filter(function (x) {\n            return x;\n        })\n        .join('/');\n\n    if (mergedPagename.layer) {\n        commonPageName += '|' + mergedPagename.layer;\n    }\n\n    var commonData = {\n        common_country: mergedPagename.country,\n        common_market: mergedPagename.market,\n        common_category: mergedPagename.category,\n        common_pageid: mergedPagename.pageid,\n        common_pageName: commonPageName,\n        common_environment: mergedPagename.environment,\n\n        common_language: mergedPagename.language || '',\n        common_group: mergedPagename.group || '',\n        common_layer: mergedPagename.layer || '',\n        common_attribute: mergedPagename.attribute || '',\n\n        common_linkgroup: mergedPagename.linkgroup || '',\n        common_linkid: mergedPagename.linkid || '',\n\n        common_techState: mergedPagename.techState || '',\n    };\n\n    return commonData;\n}\n\nfunction trackClick(params) {\n    if (params.eventcategory && params.eventaction) {\n        gtm.push({\n            event: 'event_trigger',\n            event_category: params.eventcategory,\n            event_action: params.eventaction,\n            event_label: params.eventlabel || '',\n            event_non_interaction: false,\n        });\n    } else {\n        //DEPRECATED\n        gtm.push(generateCommonParams(params));\n        gtm.push({\n            event: 'click',\n        });\n    }\n}\n\nvar firstPageview = true;\n\nfunction trackPageview(data) {\n    if (firstPageview) {\n        gtm.push(viewport);\n    }\n\n    gtm.push(generateCommonParams(data));\n\n    setTimeout(function () {\n        if (firstPageview) {\n            gtm.loadContainer(containerId);\n            gtm.push({\n                event: 'common_data_ready',\n            });\n            gtm.push({\n                event: 'data_ready',\n            });\n            firstPageview = false;\n        } else {\n            gtm.push({\n                event: 'pageview',\n            });\n        }\n    }, 10);\n}\n\nmodule.exports = {\n    setPagename: setPagename,\n    trackClick: trackClick,\n\n    set: gtm.push,\n    pageview: trackPageview,\n    click: trackClick,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/index.js","var extend = require('amp-extend');\n\nmodule.exports = function merge() {\n    var args = [].slice.call(arguments);\n    args.unshift({});\n    return extend.apply(this, args);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/amp-merge/merge.js","var isObject = require('amp-is-object');\n\n\nmodule.exports = function(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            obj[prop] = source[prop];\n        }\n    }\n    return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-extend/extend.js","module.exports = function isObject(obj) {\n    var type = typeof obj;\n    return !!obj && (type === 'function' || type === 'object');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-is-object/is-object.js","var dataLayer = (window.dataLayer = window.dataLayer || []);\nvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\nvar domainsThatRequireConsent = ['at', 'fr', 'nl'];\n\nmodule.exports = {\n    loadContainer: function (containerId) {\n        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n        var alreadyInitiatedMainGtmContainerLoaded =\n            document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\n        if (alreadyInitiatedMainGtmContainerLoaded) {\n            // preventing duplicated load of main GTM container\n            return;\n        }\n\n        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\n        var tld = window.location.hostname.split('.').pop();\n        if (domainsThatRequireConsent.includes(tld) && window.__tcfapi) {\n            const callback = (tcData, success) => {\n                if (success && (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete')) {\n                    window.__tcfapi('removeEventListener', 2, () => { }, tcData.listenerId);\n                    __tcfapi('getTCData', 2, function (tcData, success) {\n                        if (\n                            success &&\n                            tcData.purpose.consents[1] &&\n                            tcData.purpose.consents[2] &&\n                            tcData.purpose.consents[3] &&\n                            tcData.purpose.consents[4] &&\n                            tcData.purpose.consents[5] &&\n                            tcData.purpose.consents[6] &&\n                            tcData.purpose.consents[7] &&\n                            tcData.purpose.consents[8] &&\n                            tcData.purpose.consents[9] &&\n                            tcData.purpose.consents[10]\n                        ) {\n                            loadContainer();\n                        }\n                    });\n                }\n            };\n            window.__tcfapi('addEventListener', 2, callback);\n        } else {\n            loadContainer();\n        }\n\n        function loadContainer() {\n            (function (w, d, s, l, i) {\n                w[l] = w[l] || [];\n                w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n                var f = d.getElementsByTagName(s)[0],\n                    j = d.createElement(s),\n                    dl = l != 'dataLayer' ? '&l=' + l : '';\n                j.async = true;\n                j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n                f.parentNode.insertBefore(j, f);\n            })(window, document, 'script', 'dataLayer', containerId);\n        }\n    },\n\n    push: function () {\n        if (!arguments.length) {\n            return;\n        }\n\n        var args = [].slice.call(arguments);\n\n        args.map(function (data) {\n            for (var key in data) {\n                if (!useNewArrayLogic || typeof data[key] === 'string') {\n                    data[key] = toLower(data[key]);\n                }\n            }\n\n            return data;\n        });\n\n        dataLayer.push.apply(dataLayer, args);\n    },\n};\n\nfunction toLower(val) {\n    return val && ('' + val).toLowerCase();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/googletagmanager.js","var containerIdsByTld = {\n    de: 'GTM-MK57H2',\n    at: 'GTM-WBZ87G',\n    be: 'GTM-5BWB2M',\n    lu: 'GTM-NDBDCZ',\n    es: 'GTM-PS6QHN',\n    fr: 'GTM-PD93LD',\n    it: 'GTM-WTCSNR',\n    nl: 'GTM-TW48BJ',\n    com: 'GTM-KWX9NX',\n};\n\nvar isIdentityPage = function (hostname) {\n    return hostname === \"accounts.autoscout24.com\";\n};\n\nvar extractTldFromRedirectUrl = function (url) {\n    // search for ui_locales=xx in URL\n    var regexp = new RegExp(/ui_locales=([a-z]+)/g);\n    var matches = window.location.href.match(regexp);\n    var tld = 'com';\n\n    if (matches) {\n        var match = matches.join(''); // i.e. ui_locales=de\n        tld = match.split('=')[1];\n    }\n\n    return tld;\n};\n\nmodule.exports = function (hostname) {\n    var tld = isIdentityPage(hostname) ? extractTldFromRedirectUrl(window.location.href) : hostname.split('.').pop();\n    return containerIdsByTld[tld] || containerIdsByTld['com'];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/getGtmContainerId.js","var viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\nmodule.exports = {\n    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/viewport.js","var currentVehicles = [];\n\nfunction add(data) {\n    currentVehicles.push(data);\n}\n\nfunction commit() {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        list_productidsall: currentVehicles,\n    });\n\n    currentVehicles = [];\n}\n\nmodule.exports = {\n    add: add,\n    commit: commit,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dealer-gtm.js","const {\n    waitTillGA4PageView,\n    dealerId,\n    ga4ClientId,\n    gaUserId,\n    loginStatus,\n    adBlockerUsage,\n    customerId,\n} = require('./ga4-event-parameters');\n\nconst trackGA4Event = (event, otherData) => {\n    if (event.name.indexOf('_') === -1) throw new Error('Event name must follow naming convention: {feature}_{action}');\n\n    window.dataLayer = window.dataLayer || [];\n    const eventDetails = !event.details\n        ? undefined\n        : Object.entries(event.details)\n              .map(([key, value]) => `${key}=${value}`)\n              .join(';');\n\n    waitTillGA4PageView(() => {\n        if (otherData) {\n            window.dataLayer.push(otherData);\n        }\n\n        window.dataLayer.push({\n            event: 'ga4_event',\n            event_name: event.name,\n            event_type: event.type,\n            event_details: eventDetails,\n        });\n    });\n};\n\nconst trackGA4PageViewEvent = (eventData, dataLayerVariables) => {\n    window.dataLayer = window.dataLayer || [];\n    const common_countryObj = window.dataLayer.find((x) => x.common_country);\n    const country = common_countryObj && common_countryObj.common_country;\n    if (!country) {\n        throw new Error('COMMON_COUNTRY_NOT_SET');\n    }\n\n    if (dataLayerVariables) {\n        window.dataLayer.push(dataLayerVariables);\n    }\n\n    const dealerIdValue = dealerId();\n    const market = window.document.location.hostname.split('.').pop() || undefined;\n\n    window.dataLayer.push(\n        Object.assign(\n            {\n                event_name: 'page_view',\n                event_type: 'page_load',\n                content_id: 'all',\n                dealer_id: dealerIdValue,\n                ga4_client_id: ga4ClientId(),\n                ga_user_id: gaUserId(),\n                login_status: loginStatus(),\n                adblocker_usage: adBlockerUsage(),\n                customer_id: customerId(undefined, dealerIdValue, undefined), // needed classified_customerId and chefplatz_ad_dealer_id dataLayervariables. How to get them?,  this line needs to be revisited when the original code from showcar-react updated\n                market: market,\n            },\n            eventData\n        )\n    );\n\n    window.dataLayer.push({ event: 'page_view' });\n};\n\nmodule.exports = { trackGA4Event: trackGA4Event, trackGA4PageViewEvent: trackGA4PageViewEvent };\n\n\n\n// WEBPACK FOOTER //\n// ./src/ga4-tracking.js","var cookieHelper = require('./cookieHelper');\n\nconst waitTillGA4PageView = (callback) => {\n    if (window.dataLayer.some((e) => e.event === 'page_view')) {\n        callback();\n    } else {\n        setTimeout(() => waitTillGA4PageView(callback), 100);\n    }\n};\n\nconst ssoToken = () => {\n    const res = cookieHelper.read('sso');\n\n    return res ? (res.trim().length > 0 ? res : null) : null;\n};\n\nconst parseJwt = (token) => {\n    const partials = token.split('.');\n    const jsonPayload = decodeURIComponent(atob(partials[1]));\n\n    try {\n        return JSON.parse(jsonPayload);\n    } catch (e) {\n        return undefined;\n    }\n};\n\nconst fallbackToUserCookie = () => {\n    const userCookie = cookieHelper.read('User');\n\n    if (!userCookie || userCookie.toLowerCase().indexOf('customerid=') === -1) return;\n\n    const userCookieArray = userCookie.toLowerCase().split('&');\n\n    for (const el of userCookieArray) {\n        if (el.match(/customerid=/i)) {\n            return el.split('=')[1];\n        }\n        if (el.match(/customerid\\(/i)) {\n            const variantCustomerId = el.match(/\\((.*?)\\)/);\n            return variantCustomerId ? variantCustomerId[1] : undefined;\n        }\n    }\n    return undefined;\n};\n\nconst dealerId = () => {\n    const token = ssoToken();\n\n    const user = token ? parseJwt(token) : { ctid: fallbackToUserCookie() };\n\n    if (user && user.ctid !== '') {\n        return user.ctid;\n    } else {\n        return undefined;\n    }\n};\n\nconst ga4ClientId = () => {\n    const clientIdCookie = cookieHelper.read('_asga');\n\n    if (!clientIdCookie) return;\n\n    const splitted_cookie = clientIdCookie.split('.');\n    return splitted_cookie[2] + '.' + splitted_cookie[3];\n};\n\nconst gaUserId = () => {\n    const visitorCookie = cookieHelper.read('as24Visitor');\n\n    return visitorCookie ? visitorCookie : undefined;\n};\n\nconst loginStatus = () => {\n    // this function needs to be updated when its original function from showcar-react updated\n    return 'not_logged_in';\n};\n\nconst adBlockerUsage = () => {\n    // this function needs to be updated when its original function from showcar-react updated\n    return 'adblock active';\n};\n\nconst customerId = (classifiedCustomerId, dealerId, chefplatzDealerId) => {\n    // this function needs to be updated when its original function from showcar-react updated\n    return classifiedCustomerId || dealerId || chefplatzDealerId;\n};\n\nmodule.exports = {\n    waitTillGA4PageView: waitTillGA4PageView,\n    dealerId: dealerId,\n    ga4ClientId: ga4ClientId,\n    gaUserId: gaUserId,\n    loginStatus: loginStatus,\n    adBlockerUsage: adBlockerUsage,\n    customerId: customerId,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ga4-event-parameters.js","var doc = document;\n\nfunction readCookie(name, options) {\n    if (!name) {\n        return null;\n    }\n\n    var decodingFunction = (options && options.decodingFunction) || decodeURIComponent;\n\n    return (\n        decodingFunction(\n            doc.cookie.replace(\n                new RegExp(\n                    '(?:(?:^|.*;)\\\\s*' +\n                        encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') +\n                        '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'\n                ),\n                '$1'\n            )\n        ) || null\n    );\n}\n\nfunction setCookie(name, value, options) {\n    if (!name || /^(?:expires|max\\-age|path|domain|secure)$/i.test(name)) {\n        return false;\n    }\n\n    var expiresString = '';\n\n    if (options.expires) {\n        var date = new Date();\n        date.setTime(+date + options.expires);\n        expiresString = '; expires=' + date.toGMTString();\n    }\n\n    options.encodingFunction = options.encodingFunction || encodeURIComponent;\n\n    document.cookie =\n        encodeURIComponent(name) +\n        '=' +\n        options.encodingFunction(value) +\n        expiresString +\n        (options.domain ? '; domain=' + options.domain : '') +\n        (options.path ? '; path=' + options.path : '') +\n        (options.secure ? '; secure' : '');\n\n    return true;\n}\n\nfunction removeCookie(name, options) {\n    if (hasCookie(name)) {\n        return false;\n    }\n    document.cookie =\n        encodeURIComponent(name) +\n        '=; expires=Thu, 01 Jan 1970 00:00:00 GMT' +\n        (name ? '; domain=' + options.domain : '') +\n        (options.path ? '; path=' + options.path : '');\n    return true;\n}\n\nfunction hasCookie(name) {\n    if (!name) {\n        return false;\n    }\n    return new RegExp('(?:^|;\\\\s*)' + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=').test(\n        document.cookie\n    );\n}\n\nmodule.exports = {\n    read: readCookie,\n    set: setCookie,\n    remove: removeCookie,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cookieHelper.js","var as24tracking = Object.assign(Object.create(HTMLElement.prototype), {\n    inDev: false,\n    supportedActions: ['set', 'click', 'pageview'],\n    supportedTypes: ['gtm', 'pagename'],\n    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\n    attachedCallback() {\n        var values = this.getAdditionalProperties();\n        var type = this.getAttribute('type');\n        var action = this.getAttribute('action');\n        var args = [type, action];\n\n        if (Object.keys(values).length > 0) {\n            args.push(values);\n        }\n\n        if (type === 'pagename') {\n            args.splice(1, 1);\n        }\n\n        var clickTarget = this.getAttribute('as24-tracking-click-target');\n        if (clickTarget) {\n            var elements = document.querySelectorAll(clickTarget);\n\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].addEventListener('click', () => this.track(args));\n            }\n        } else {\n            this.track(args);\n        }\n    },\n\n    getAdditionalProperties() {\n        var trackingValue = this.getAttribute('as24-tracking-value');\n        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\n        if (Array.isArray(values)) {\n            return values;\n        }\n\n        return Array.prototype.slice\n            .call(this.attributes)\n            .filter((element) => !(this.reservedWords.indexOf(element.nodeName) > -1))\n            .reduce((prev, curr) => {\n                var attrName = this.decodeAttributeName(curr.nodeName);\n                prev[attrName] = curr.nodeValue;\n                return prev;\n            }, values);\n    },\n\n    decodeAttributeName(attrName) {\n        if (attrName.indexOf('-') > -1) {\n            attrName = attrName.replace(/-([a-z])/g, function (g) {\n                return g[1].toUpperCase();\n            });\n        }\n        return attrName;\n    },\n\n    track(args) {\n        if (this.inDev) {\n            console.log(args);\n        } else {\n            window.ut = window.ut || [];\n            window.ut.push(args);\n        }\n    },\n});\n\ntry {\n    var ctor = document.createElement('as24-tracking').constructor;\n    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n        document.registerElement('as24-tracking', {\n            prototype: as24tracking,\n        });\n    }\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/trackingElement.js","// TODO: this is an experimental feature.\n// If this works well, we have to document it.\n\nwindow.addEventListener('click', (e) => {\n    window.dataLayer = window.dataLayer || [];\n\n    let node = e.target;\n\n    do {\n        const rawValue = node.getAttribute('data-click-datalayer-push');\n        if (rawValue) {\n            try {\n                // TODO: Check if we can use something like `eval` but more secure to allow JS style objects\n                // aka. objects without quotes around key names or some computation inside\n                // e.g. { event: \"event_trigger\", event_category: \"category\", event_action: \"action\" }\n                // Don't use `eval` or `new Function(...)` directly because they execute anything => XSS attack\n\n                const value = JSON.parse(rawValue);\n                window.dataLayer.push(value);\n            } catch (e) {\n                console.error('Cannot parse tracking value', rawValue, node);\n            }\n        }\n        node = node.parentNode;\n    } while (node && node.getAttribute);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/clickTrackingAttributes.js","const path = window.location.pathname;\nconst pixelPath = (() => {\n    switch(true){\n        case RegExp('^\\/$').test(path):\n            return 'Service/Homepage/Homepage';\n            break;\n        case RegExp('(^\\/promo\\/preisbewertung)|(^\\/auto\\-verkaufen)|(^\\/fahrzeugbewertung)|(^\\/promo\\/preisbewertung)').test(path):\n            return 'Service/Sonstiges/Sonstiges';\n            break;\n        case RegExp('(^\\/motorrad)|(^\\/lst)').test(path):\n            return 'Service/Rubrikenmaerkte/Automarkt';\n            break;\n        case RegExp('(^\\/informieren)|(^\\/auto)|(^\\/moto)').test(path):\n            return 'RedCont/AutoUndMotor/AutoUndMotor';\n            break;\n        case RegExp('^\\/unternehmen').test(path):\n            return 'Service/Unternehmenskommunikation/Unternehmenskommunikation';\n            break;\n        default:\n            return 'not_available';\n            break;\n    }\n})();\n\nfunction detailPage(){\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: 'Service/Rubrikenmaerkte/Automarkt', // kategorienpfad  \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction allPages() {\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: pixelPath, // kategorienpfad \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction loadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        const ref = document.getElementsByTagName('script')[0];\n        ref.parentNode.insertBefore(script, ref);\n        script.onload = resolve;\n        script.src = src;\n    });\n}\n\n\nconst onDetailPage = path.startsWith('/angebote') && document.querySelector('as24-tracking[type=pagename]').getAttribute('pageid') === 'detail';\n\n\nif (onDetailPage) {\n    detailPage();\n\n    try {\n        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', (e) => detailPage());\n    } catch(e) {}\n\n    \n} else {\n    if(pixelPath !== 'not_available'){\n        allPages();\n    }   \n}\n\n\n// WEBPACK FOOTER //\n// ./src/oewa.js"],"sourceRoot":""}