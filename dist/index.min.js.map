{"version":3,"sources":["webpack:///dist/index.min.js","webpack:///webpack/bootstrap 0401633e914c35d935c7","webpack:///./src/index.js","webpack:///./~/amp-extend/extend.js","webpack:///./~/amp-is-object/is-object.js","webpack:///./~/amp-merge/merge.js","webpack:///./src/clickTrackingAttributes.js","webpack:///./src/cookieHelper.js","webpack:///./src/dealer-gtm.js","webpack:///./src/ga4-event-parameters.js","webpack:///./src/ga4-tracking.js","webpack:///./src/gtm/getGtmContainerId.js","webpack:///./src/gtm/googletagmanager.js","webpack:///./src/gtm/index.js","webpack:///./src/gtm/viewport.js","webpack:///./src/oewa.js","webpack:///./src/trackingElement.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","trackingEnabled","location","hash","indexOf","startTracking","processCommand","data","fn","args","ga4Tracking","trackGA4Event","trackGA4PageViewEvent","gtm","setPagename","slice","apply","dealerGtm","window","__tcfapi","userCallback","callback","partialTcData","success","eventStatus","tcData","purpose","legitimateInterests","consents","ut","push","Array","prototype","arguments","forEach","hostname","split","pop","run","console","log","isObject","obj","source","prop","i","length","_typeof","Symbol","iterator","constructor","type","extend","unshift","this","addEventListener","e","dataLayer","node","target","rawValue","getAttribute","value","JSON","parse","error","parentNode","readCookie","name","options","decodingFunction","decodeURIComponent","doc","cookie","replace","RegExp","encodeURIComponent","setCookie","test","expiresString","expires","date","Date","setTime","toGMTString","encodingFunction","document","domain","path","secure","removeCookie","hasCookie","read","set","remove","add","currentVehicles","commit","list_productidsall","cookieHelper","waitTillGA4PageView","some","event","setTimeout","ssoToken","res","trim","parseJwt","token","partials","jsonPayload","atob","fallbackToUserCookie","userCookie","toLowerCase","userCookieArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","el","match","variantCustomerId","err","return","dealerId","user","ctid","ga4ClientId","clientIdCookie","splitted_cookie","gaUserId","visitorCookie","loginStatus","adBlockerUsage","customerId","classifiedCustomerId","chefplatzDealerId","_extends","Object","assign","key","hasOwnProperty","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","isArray","TypeError","_require","otherData","Error","eventDetails","details","entries","map","_ref","_ref2","join","event_name","event_type","event_details","eventData","dataLayerVariables","common_countryObj","find","x","common_country","country","dealerIdValue","market","content_id","dealer_id","ga4_client_id","ga_user_id","login_status","adblocker_usage","customer_id","containerIdsByTld","de","at","be","lu","es","fr","it","nl","com","isIdentityPage","extractTldFromRedirectUrl","url","regexp","matches","href","tld","toLower","val","useNewArrayLogic","domainsThatRequireConsent","loadContainer","containerId","w","d","s","l","gtm.start","getTime","f","getElementsByTagName","j","createElement","dl","async","src","insertBefore","gtmAlreadyLoadedClassName","alreadyInitiatedMainGtmContainerLoaded","documentElement","className","includes","listenerId","pn","pagename","generateCommonParams","mergedPagename","merge","category","pageid","environment","stringify","commonPageName","group","filter","layer","commonData","common_market","common_category","common_pageid","common_pageName","common_environment","common_language","language","common_group","common_layer","common_attribute","attribute","common_linkgroup","linkgroup","common_linkid","linkid","common_techState","techState","trackClick","params","eventcategory","eventaction","event_category","event_action","event_label","eventlabel","event_non_interaction","trackPageview","firstPageview","viewport","pageview","click","viewportWidth","Math","min","clientWidth","innerWidth","screen","width","session_viewport","detailPage","loadScript","then","iom","oewa_data","cn","st","cp","sv","ps","allPages","pixelPath","Promise","resolve","script","ref","onload","pathname","onDetailPage","startsWith","querySelector","as24tracking","create","HTMLElement","inDev","supportedActions","supportedTypes","reservedWords","attachedCallback","_this","values","getAdditionalProperties","action","keys","splice","clickTarget","elements","querySelectorAll","track","_this2","trackingValue","attributes","element","nodeName","reduce","prev","curr","attrName","decodeAttributeName","nodeValue","g","toUpperCase","ctor","HTMLUnknownElement","registerElement","warn"],"mappings":"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","file":"./dist/index.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\t\n\tvar startTracking = function startTracking() {\n\t    var gtm = __webpack_require__(11);\n\t    var dealerGtm = __webpack_require__(6);\n\t    var ga4Tracking = __webpack_require__(8);\n\t\n\t    function processCommand(data) {\n\t        var fn, args;\n\t\n\t        if (data[0] === 'ga4Event') {\n\t            ga4Tracking.trackGA4Event(data[1], data[2]);\n\t        }\n\t\n\t        if (data[0] === 'ga4PageviewEvent') {\n\t            ga4Tracking.trackGA4PageViewEvent(data[1], data[2]);\n\t        }\n\t\n\t        if (data[0] === 'pagename') {\n\t            gtm.setPagename(data[1]);\n\t        }\n\t\n\t        if (data[0] === 'gtm') {\n\t            fn = gtm[data[1]];\n\t            args = data.slice(2);\n\t            if (typeof fn === 'function') {\n\t                fn.apply(gtm, args);\n\t            }\n\t        }\n\t\n\t        if (data[0] === 'dealer-gtm') {\n\t            fn = dealerGtm[data[1]];\n\t            args = data.slice(2);\n\t            if (typeof fn === 'function') {\n\t                fn.apply(dealerGtm, args);\n\t            }\n\t        }\n\t\n\t        if (data[0] === 'cmp' && window.__tcfapi && data[1] === 'onPersonalizedCookiesAllowed' && typeof data[2] === 'function') {\n\t            var userCallback = data[2];\n\t\n\t            var callback = function callback(partialTcData, success) {\n\t                if (success && (partialTcData.eventStatus === 'tcloaded' || partialTcData.eventStatus === 'useractioncomplete')) {\n\t                    window.__tcfapi('getFullTCData', 2, function (tcData) {\n\t                        if (tcData.purpose.legitimateInterests['25'] && tcData.purpose.consents['26']) {\n\t                            userCallback();\n\t                        }\n\t                        window.__tcfapi('removeEventListener', 2, callback);\n\t                    });\n\t                }\n\t            };\n\t\n\t            window.__tcfapi('addEventListener', 2, callback);\n\t        }\n\t    }\n\t\n\t    var ut = window.ut || (window.ut = []);\n\t\n\t    if (ut.push === Array.prototype.push) {\n\t        ut.push = function () {\n\t            Array.prototype.push.apply(window.ut, arguments);\n\t            processCommand.apply({}, arguments);\n\t        };\n\t\n\t        ut.forEach(processCommand);\n\t    }\n\t\n\t    __webpack_require__(14);\n\t\n\t    module.exports = {\n\t        gtm: gtm,\n\t        ut: ut\n\t    };\n\t};\n\t\n\t__webpack_require__(4);\n\t\n\t// if (window.location.hostname.split('.').pop() === 'de') {\n\t//     require('./ivw');\n\t// }\n\t\n\tif (window.location.hostname.split('.').pop() === 'at') {\n\t    __webpack_require__(13);\n\t}\n\t\n\tvar run = function run() {\n\t    if (!trackingEnabled) {\n\t        console.log('Tracking disabled');\n\t        return;\n\t    }\n\t\n\t    startTracking();\n\t};\n\t\n\trun();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isObject = __webpack_require__(2);\n\t\n\tmodule.exports = function (obj) {\n\t    if (!isObject(obj)) return obj;\n\t    var source, prop;\n\t    for (var i = 1, length = arguments.length; i < length; i++) {\n\t        source = arguments[i];\n\t        for (prop in source) {\n\t            obj[prop] = source[prop];\n\t        }\n\t    }\n\t    return obj;\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tmodule.exports = function isObject(obj) {\n\t    var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n\t    return !!obj && (type === 'function' || type === 'object');\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar extend = __webpack_require__(1);\n\t\n\tmodule.exports = function merge() {\n\t    var args = [].slice.call(arguments);\n\t    args.unshift({});\n\t    return extend.apply(this, args);\n\t};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\t// TODO: this is an experimental feature.\n\t// If this works well, we have to document it.\n\t\n\twindow.addEventListener('click', function (e) {\n\t    window.dataLayer = window.dataLayer || [];\n\t\n\t    var node = e.target;\n\t\n\t    do {\n\t        var rawValue = node.getAttribute('data-click-datalayer-push');\n\t        if (rawValue) {\n\t            try {\n\t                // TODO: Check if we can use something like `eval` but more secure to allow JS style objects\n\t                // aka. objects without quotes around key names or some computation inside\n\t                // e.g. { event: \"event_trigger\", event_category: \"category\", event_action: \"action\" }\n\t                // Don't use `eval` or `new Function(...)` directly because they execute anything => XSS attack\n\t\n\t                var value = JSON.parse(rawValue);\n\t                window.dataLayer.push(value);\n\t            } catch (e) {\n\t                console.error('Cannot parse tracking value', rawValue, node);\n\t            }\n\t        }\n\t        node = node.parentNode;\n\t    } while (node && node.getAttribute);\n\t});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar doc = document;\n\t\n\tfunction readCookie(name, options) {\n\t    if (!name) {\n\t        return null;\n\t    }\n\t\n\t    var decodingFunction = options && options.decodingFunction || decodeURIComponent;\n\t\n\t    return decodingFunction(doc.cookie.replace(new RegExp('(?:(?:^|.*;)\\\\s*' + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'), '$1')) || null;\n\t}\n\t\n\tfunction setCookie(name, value, options) {\n\t    if (!name || /^(?:expires|max\\-age|path|domain|secure)$/i.test(name)) {\n\t        return false;\n\t    }\n\t\n\t    var expiresString = '';\n\t\n\t    if (options.expires) {\n\t        var date = new Date();\n\t        date.setTime(+date + options.expires);\n\t        expiresString = '; expires=' + date.toGMTString();\n\t    }\n\t\n\t    options.encodingFunction = options.encodingFunction || encodeURIComponent;\n\t\n\t    document.cookie = encodeURIComponent(name) + '=' + options.encodingFunction(value) + expiresString + (options.domain ? '; domain=' + options.domain : '') + (options.path ? '; path=' + options.path : '') + (options.secure ? '; secure' : '');\n\t\n\t    return true;\n\t}\n\t\n\tfunction removeCookie(name, options) {\n\t    if (hasCookie(name)) {\n\t        return false;\n\t    }\n\t    document.cookie = encodeURIComponent(name) + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT' + (name ? '; domain=' + options.domain : '') + (options.path ? '; path=' + options.path : '');\n\t    return true;\n\t}\n\t\n\tfunction hasCookie(name) {\n\t    if (!name) {\n\t        return false;\n\t    }\n\t    return new RegExp('(?:^|;\\\\s*)' + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=').test(document.cookie);\n\t}\n\t\n\tmodule.exports = {\n\t    read: readCookie,\n\t    set: setCookie,\n\t    remove: removeCookie\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar currentVehicles = [];\n\t\n\tfunction add(data) {\n\t    currentVehicles.push(data);\n\t}\n\t\n\tfunction commit() {\n\t    window.dataLayer = window.dataLayer || [];\n\t    window.dataLayer.push({\n\t        list_productidsall: currentVehicles\n\t    });\n\t\n\t    currentVehicles = [];\n\t}\n\t\n\tmodule.exports = {\n\t    add: add,\n\t    commit: commit\n\t};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar cookieHelper = __webpack_require__(5);\n\t\n\tvar waitTillGA4PageView = function waitTillGA4PageView(callback) {\n\t    if (window.dataLayer.some(function (e) {\n\t        return e.event === 'page_view';\n\t    })) {\n\t        callback();\n\t    } else {\n\t        setTimeout(function () {\n\t            return waitTillGA4PageView(callback);\n\t        }, 100);\n\t    }\n\t};\n\t\n\tvar ssoToken = function ssoToken() {\n\t    var res = cookieHelper.read('sso');\n\t\n\t    return res ? res.trim().length > 0 ? res : null : null;\n\t};\n\t\n\tvar parseJwt = function parseJwt(token) {\n\t    var partials = token.split('.');\n\t    var jsonPayload = decodeURIComponent(atob(partials[1]));\n\t\n\t    try {\n\t        return JSON.parse(jsonPayload);\n\t    } catch (e) {\n\t        return undefined;\n\t    }\n\t};\n\t\n\tvar fallbackToUserCookie = function fallbackToUserCookie() {\n\t    var userCookie = cookieHelper.read('User');\n\t\n\t    if (!userCookie || userCookie.toLowerCase().indexOf('customerid=') === -1) return;\n\t\n\t    var userCookieArray = userCookie.toLowerCase().split('&');\n\t\n\t    var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        for (var _iterator = userCookieArray[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var el = _step.value;\n\t\n\t            if (el.match(/customerid=/i)) {\n\t                return el.split('=')[1];\n\t            }\n\t            if (el.match(/customerid\\(/i)) {\n\t                var variantCustomerId = el.match(/\\((.*?)\\)/);\n\t                return variantCustomerId ? variantCustomerId[1] : undefined;\n\t            }\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t                _iterator.return();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t\n\t    return undefined;\n\t};\n\t\n\tvar dealerId = function dealerId() {\n\t    var token = ssoToken();\n\t\n\t    var user = token ? parseJwt(token) : { ctid: fallbackToUserCookie() };\n\t\n\t    if (user && user.ctid !== '') {\n\t        return user.ctid;\n\t    } else {\n\t        return undefined;\n\t    }\n\t};\n\t\n\tvar ga4ClientId = function ga4ClientId() {\n\t    var clientIdCookie = cookieHelper.read('_asga');\n\t\n\t    if (!clientIdCookie) return;\n\t\n\t    var splitted_cookie = clientIdCookie.split('.');\n\t    return splitted_cookie[2] + '.' + splitted_cookie[3];\n\t};\n\t\n\tvar gaUserId = function gaUserId() {\n\t    var visitorCookie = cookieHelper.read('as24Visitor');\n\t\n\t    return visitorCookie ? visitorCookie : undefined;\n\t};\n\t\n\tvar loginStatus = function loginStatus() {\n\t    // this function needs to be updated when its original function from showcar-react updated\n\t    return 'not_logged_in';\n\t};\n\t\n\tvar adBlockerUsage = function adBlockerUsage() {\n\t    // this function needs to be updated when its original function from showcar-react updated\n\t    return 'adblock active';\n\t};\n\t\n\tvar customerId = function customerId(classifiedCustomerId, dealerId, chefplatzDealerId) {\n\t    // this function needs to be updated when its original function from showcar-react updated\n\t    return classifiedCustomerId || dealerId || chefplatzDealerId;\n\t};\n\t\n\tmodule.exports = {\n\t    waitTillGA4PageView: waitTillGA4PageView,\n\t    dealerId: dealerId,\n\t    ga4ClientId: ga4ClientId,\n\t    gaUserId: gaUserId,\n\t    loginStatus: loginStatus,\n\t    adBlockerUsage: adBlockerUsage,\n\t    customerId: customerId\n\t};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _require = __webpack_require__(7),\n\t    waitTillGA4PageView = _require.waitTillGA4PageView,\n\t    dealerId = _require.dealerId,\n\t    ga4ClientId = _require.ga4ClientId,\n\t    gaUserId = _require.gaUserId,\n\t    loginStatus = _require.loginStatus,\n\t    adBlockerUsage = _require.adBlockerUsage,\n\t    customerId = _require.customerId;\n\t\n\tvar trackGA4Event = function trackGA4Event(event, otherData) {\n\t    if (event.name.indexOf('_') === -1) throw new Error('Event name must follow naming convention: {feature}_{action}');\n\t\n\t    window.dataLayer = window.dataLayer || [];\n\t    var eventDetails = !event.details ? undefined : Object.entries(event.details).map(function (_ref) {\n\t        var _ref2 = _slicedToArray(_ref, 2),\n\t            key = _ref2[0],\n\t            value = _ref2[1];\n\t\n\t        return key + '=' + value;\n\t    }).join(';');\n\t\n\t    waitTillGA4PageView(function () {\n\t        if (otherData) {\n\t            window.dataLayer.push(otherData);\n\t        }\n\t\n\t        window.dataLayer.push({\n\t            event: 'ga4_event',\n\t            event_name: event.name,\n\t            event_type: event.type,\n\t            event_details: eventDetails\n\t        });\n\t    });\n\t};\n\t\n\tvar trackGA4PageViewEvent = function trackGA4PageViewEvent(eventData, dataLayerVariables) {\n\t    window.dataLayer = window.dataLayer || [];\n\t    var common_countryObj = window.dataLayer.find(function (x) {\n\t        return x.common_country;\n\t    });\n\t    var country = common_countryObj && common_countryObj.common_country;\n\t    if (!country) {\n\t        throw new Error('COMMON_COUNTRY_NOT_SET');\n\t    }\n\t\n\t    if (dataLayerVariables) {\n\t        window.dataLayer.push(dataLayerVariables);\n\t    }\n\t\n\t    var dealerIdValue = dealerId();\n\t    var market = window.document.location.hostname.split('.').pop() || undefined;\n\t\n\t    window.dataLayer.push(_extends({\n\t        event_name: 'page_view',\n\t        event_type: 'page_load',\n\t        content_id: 'all',\n\t        dealer_id: dealerIdValue,\n\t        ga4_client_id: ga4ClientId(),\n\t        ga_user_id: gaUserId(),\n\t        login_status: loginStatus(),\n\t        adblocker_usage: adBlockerUsage(),\n\t        customer_id: customerId(undefined, dealerIdValue, undefined), // needed classified_customerId and chefplatz_ad_dealer_id dataLayervariables. How to get them?,  this line needs to be revisited when the original code from showcar-react updated\n\t        market: market\n\t    }, eventData));\n\t\n\t    window.dataLayer.push({ event: 'page_view' });\n\t};\n\t\n\tmodule.exports = { trackGA4Event: trackGA4Event, trackGA4PageViewEvent: trackGA4PageViewEvent };\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar containerIdsByTld = {\n\t    de: 'GTM-MK57H2',\n\t    at: 'GTM-WBZ87G',\n\t    be: 'GTM-5BWB2M',\n\t    lu: 'GTM-NDBDCZ',\n\t    es: 'GTM-PS6QHN',\n\t    fr: 'GTM-PD93LD',\n\t    it: 'GTM-WTCSNR',\n\t    nl: 'GTM-TW48BJ',\n\t    com: 'GTM-KWX9NX'\n\t};\n\t\n\tvar isIdentityPage = function isIdentityPage(hostname) {\n\t    return hostname === \"accounts.autoscout24.com\";\n\t};\n\t\n\tvar extractTldFromRedirectUrl = function extractTldFromRedirectUrl(url) {\n\t    // search for ui_locales=xx in URL\n\t    var regexp = new RegExp(/ui_locales=([a-z]+)/g);\n\t    var matches = window.location.href.match(regexp);\n\t    var tld = 'com';\n\t\n\t    if (matches) {\n\t        var match = matches.join(''); // i.e. ui_locales=de\n\t        tld = match.split('=')[1];\n\t    }\n\t\n\t    return tld;\n\t};\n\t\n\tmodule.exports = function (hostname) {\n\t    var tld = isIdentityPage(hostname) ? extractTldFromRedirectUrl(window.location.href) : hostname.split('.').pop();\n\t    return containerIdsByTld[tld] || containerIdsByTld['com'];\n\t};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar dataLayer = window.dataLayer = window.dataLayer || [];\n\tvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\n\tvar domainsThatRequireConsent = ['at', 'fr', 'nl'];\n\t\n\tmodule.exports = {\n\t    loadContainer: function loadContainer(containerId) {\n\t        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n\t        var alreadyInitiatedMainGtmContainerLoaded = document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\t\n\t        if (alreadyInitiatedMainGtmContainerLoaded) {\n\t            // preventing duplicated load of main GTM container\n\t            return;\n\t        }\n\t\n\t        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\t\n\t        var tld = window.location.hostname.split('.').pop();\n\t        if (domainsThatRequireConsent.includes(tld) && window.__tcfapi) {\n\t            var callback = function callback(tcData, success) {\n\t                if (success && (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete')) {\n\t                    window.__tcfapi('removeEventListener', 2, function () {}, tcData.listenerId);\n\t                    __tcfapi('getTCData', 2, function (tcData, success) {\n\t                        if (success && tcData.purpose.consents[1] && tcData.purpose.consents[2] && tcData.purpose.consents[3] && tcData.purpose.consents[4] && tcData.purpose.consents[5] && tcData.purpose.consents[6] && tcData.purpose.consents[7] && tcData.purpose.consents[8] && tcData.purpose.consents[9] && tcData.purpose.consents[10]) {\n\t                            loadContainer();\n\t                        }\n\t                    });\n\t                }\n\t            };\n\t            window.__tcfapi('addEventListener', 2, callback);\n\t        } else {\n\t            loadContainer();\n\t        }\n\t\n\t        function loadContainer() {\n\t            (function (w, d, s, l, i) {\n\t                w[l] = w[l] || [];\n\t                w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n\t                var f = d.getElementsByTagName(s)[0],\n\t                    j = d.createElement(s),\n\t                    dl = l != 'dataLayer' ? '&l=' + l : '';\n\t                j.async = true;\n\t                j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n\t                f.parentNode.insertBefore(j, f);\n\t            })(window, document, 'script', 'dataLayer', containerId);\n\t        }\n\t    },\n\t\n\t    push: function push() {\n\t        if (!arguments.length) {\n\t            return;\n\t        }\n\t\n\t        var args = [].slice.call(arguments);\n\t\n\t        args.map(function (data) {\n\t            for (var key in data) {\n\t                if (!useNewArrayLogic || typeof data[key] === 'string') {\n\t                    data[key] = toLower(data[key]);\n\t                }\n\t            }\n\t\n\t            return data;\n\t        });\n\t\n\t        dataLayer.push.apply(dataLayer, args);\n\t    }\n\t};\n\t\n\tfunction toLower(val) {\n\t    return val && ('' + val).toLowerCase();\n\t}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar merge = __webpack_require__(3);\n\t\n\tvar gtm = __webpack_require__(10);\n\tvar containerId = __webpack_require__(9)(location.hostname);\n\tvar viewport = __webpack_require__(12);\n\t\n\tvar pagename;\n\t\n\tfunction setPagename(pn) {\n\t    pagename = pn;\n\t}\n\t\n\tfunction generateCommonParams(data) {\n\t    var mergedPagename = merge({}, pagename, data);\n\t\n\t    if (!mergedPagename || !mergedPagename.country || !mergedPagename.market || !mergedPagename.category || !mergedPagename.pageid || !mergedPagename.environment) {\n\t        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n\t            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n\t        }\n\t        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n\t    }\n\t\n\t    var commonPageName = [mergedPagename.country, mergedPagename.market, mergedPagename.category, mergedPagename.group, mergedPagename.pageid].filter(function (x) {\n\t        return x;\n\t    }).join('/');\n\t\n\t    if (mergedPagename.layer) {\n\t        commonPageName += '|' + mergedPagename.layer;\n\t    }\n\t\n\t    var commonData = {\n\t        common_country: mergedPagename.country,\n\t        common_market: mergedPagename.market,\n\t        common_category: mergedPagename.category,\n\t        common_pageid: mergedPagename.pageid,\n\t        common_pageName: commonPageName,\n\t        common_environment: mergedPagename.environment,\n\t\n\t        common_language: mergedPagename.language || '',\n\t        common_group: mergedPagename.group || '',\n\t        common_layer: mergedPagename.layer || '',\n\t        common_attribute: mergedPagename.attribute || '',\n\t\n\t        common_linkgroup: mergedPagename.linkgroup || '',\n\t        common_linkid: mergedPagename.linkid || '',\n\t\n\t        common_techState: mergedPagename.techState || ''\n\t    };\n\t\n\t    return commonData;\n\t}\n\t\n\tfunction trackClick(params) {\n\t    if (params.eventcategory && params.eventaction) {\n\t        gtm.push({\n\t            event: 'event_trigger',\n\t            event_category: params.eventcategory,\n\t            event_action: params.eventaction,\n\t            event_label: params.eventlabel || '',\n\t            event_non_interaction: false\n\t        });\n\t    } else {\n\t        //DEPRECATED\n\t        gtm.push(generateCommonParams(params));\n\t        gtm.push({\n\t            event: 'click'\n\t        });\n\t    }\n\t}\n\t\n\tvar firstPageview = true;\n\t\n\tfunction trackPageview(data) {\n\t    if (firstPageview) {\n\t        gtm.push(viewport);\n\t    }\n\t\n\t    gtm.push(generateCommonParams(data));\n\t\n\t    setTimeout(function () {\n\t        if (firstPageview) {\n\t            gtm.loadContainer(containerId);\n\t            gtm.push({\n\t                event: 'common_data_ready'\n\t            });\n\t            gtm.push({\n\t                event: 'data_ready'\n\t            });\n\t            firstPageview = false;\n\t        } else {\n\t            gtm.push({\n\t                event: 'pageview'\n\t            });\n\t        }\n\t    }, 10);\n\t}\n\t\n\tmodule.exports = {\n\t    setPagename: setPagename,\n\t    trackClick: trackClick,\n\t\n\t    set: gtm.push,\n\t    pageview: trackPageview,\n\t    click: trackClick\n\t};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\t\n\tmodule.exports = {\n\t    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs'\n\t};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar path = window.location.pathname;\n\tvar pixelPath = function () {\n\t    switch (true) {\n\t        case RegExp('^\\/$').test(path):\n\t            return 'Service/Homepage/Homepage';\n\t            break;\n\t        case RegExp('(^\\/promo\\/preisbewertung)|(^\\/auto\\-verkaufen)|(^\\/fahrzeugbewertung)|(^\\/promo\\/preisbewertung)').test(path):\n\t            return 'Service/Sonstiges/Sonstiges';\n\t            break;\n\t        case RegExp('(^\\/motorrad)|(^\\/lst)').test(path):\n\t            return 'Service/Rubrikenmaerkte/Automarkt';\n\t            break;\n\t        case RegExp('(^\\/informieren)|(^\\/auto)|(^\\/moto)').test(path):\n\t            return 'RedCont/AutoUndMotor/AutoUndMotor';\n\t            break;\n\t        case RegExp('^\\/unternehmen').test(path):\n\t            return 'Service/Unternehmenskommunikation/Unternehmenskommunikation';\n\t            break;\n\t        default:\n\t            return 'not_available';\n\t            break;\n\t    }\n\t}();\n\t\n\tfunction detailPage() {\n\t    loadScript('https://script-at.iocnt.net/iam.js').then(function () {\n\t        if (window.iom) {\n\t            // OEWA VERSION=\"3.0\" \n\t            window.oewa_data = {\n\t                cn: 'at', // country \n\t                st: 'at_w_atascout24', // sitename \n\t                cp: 'Service/Rubrikenmaerkte/Automarkt', // kategorienpfad  \n\t                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n\t                ps: 'lin' // Privacy setting \n\t            };\n\t            iom.c(window.oewa_data, 1);\n\t        }\n\t    });\n\t}\n\t\n\tfunction allPages() {\n\t    loadScript('https://script-at.iocnt.net/iam.js').then(function () {\n\t        if (window.iom) {\n\t            // OEWA VERSION=\"3.0\" \n\t            window.oewa_data = {\n\t                cn: 'at', // country \n\t                st: 'at_w_atascout24', // sitename \n\t                cp: pixelPath, // kategorienpfad \n\t                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n\t                ps: 'lin' // Privacy setting \n\t            };\n\t            iom.c(window.oewa_data, 1);\n\t        }\n\t    });\n\t}\n\t\n\tfunction loadScript(src) {\n\t    return new Promise(function (resolve) {\n\t        var script = document.createElement('script');\n\t        var ref = document.getElementsByTagName('script')[0];\n\t        ref.parentNode.insertBefore(script, ref);\n\t        script.onload = resolve;\n\t        script.src = src;\n\t    });\n\t}\n\t\n\tvar onDetailPage = path.startsWith('/angebote') && document.querySelector('as24-tracking[type=pagename]').getAttribute('pageid') === 'detail';\n\t\n\tif (onDetailPage) {\n\t    detailPage();\n\t\n\t    try {\n\t        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', function (e) {\n\t            return detailPage();\n\t        });\n\t    } catch (e) {}\n\t} else {\n\t    if (pixelPath !== 'not_available') {\n\t        allPages();\n\t    }\n\t}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar as24tracking = _extends(Object.create(HTMLElement.prototype), {\n\t    inDev: false,\n\t    supportedActions: ['set', 'click', 'pageview'],\n\t    supportedTypes: ['gtm', 'pagename'],\n\t    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\t\n\t    attachedCallback: function attachedCallback() {\n\t        var _this = this;\n\t\n\t        var values = this.getAdditionalProperties();\n\t        var type = this.getAttribute('type');\n\t        var action = this.getAttribute('action');\n\t        var args = [type, action];\n\t\n\t        if (Object.keys(values).length > 0) {\n\t            args.push(values);\n\t        }\n\t\n\t        if (type === 'pagename') {\n\t            args.splice(1, 1);\n\t        }\n\t\n\t        var clickTarget = this.getAttribute('as24-tracking-click-target');\n\t        if (clickTarget) {\n\t            var elements = document.querySelectorAll(clickTarget);\n\t\n\t            for (var i = 0; i < elements.length; i++) {\n\t                elements[i].addEventListener('click', function () {\n\t                    return _this.track(args);\n\t                });\n\t            }\n\t        } else {\n\t            this.track(args);\n\t        }\n\t    },\n\t    getAdditionalProperties: function getAdditionalProperties() {\n\t        var _this2 = this;\n\t\n\t        var trackingValue = this.getAttribute('as24-tracking-value');\n\t        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\t\n\t        if (Array.isArray(values)) {\n\t            return values;\n\t        }\n\t\n\t        return Array.prototype.slice.call(this.attributes).filter(function (element) {\n\t            return !(_this2.reservedWords.indexOf(element.nodeName) > -1);\n\t        }).reduce(function (prev, curr) {\n\t            var attrName = _this2.decodeAttributeName(curr.nodeName);\n\t            prev[attrName] = curr.nodeValue;\n\t            return prev;\n\t        }, values);\n\t    },\n\t    decodeAttributeName: function decodeAttributeName(attrName) {\n\t        if (attrName.indexOf('-') > -1) {\n\t            attrName = attrName.replace(/-([a-z])/g, function (g) {\n\t                return g[1].toUpperCase();\n\t            });\n\t        }\n\t        return attrName;\n\t    },\n\t    track: function track(args) {\n\t        if (this.inDev) {\n\t            console.log(args);\n\t        } else {\n\t            window.ut = window.ut || [];\n\t            window.ut.push(args);\n\t        }\n\t    }\n\t});\n\t\n\ttry {\n\t    var ctor = document.createElement('as24-tracking').constructor;\n\t    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n\t        document.registerElement('as24-tracking', {\n\t            prototype: as24tracking\n\t        });\n\t    }\n\t} catch (e) {\n\t    if (window && window.console) {\n\t        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n\t    }\n\t}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/index.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0401633e914c35d935c7","const trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\nconst startTracking = () => {\n    var gtm = require('./gtm');\n    var dealerGtm = require('./dealer-gtm');\n    const ga4Tracking = require('./ga4-tracking');\n\n    function processCommand(data) {\n        var fn, args;\n\n        if (data[0] === 'ga4Event') {\n            ga4Tracking.trackGA4Event(data[1], data[2]);\n        }\n\n        if (data[0] === 'ga4PageviewEvent') {\n            ga4Tracking.trackGA4PageViewEvent(data[1], data[2]);\n        }\n\n        if (data[0] === 'pagename') {\n            gtm.setPagename(data[1]);\n        }\n\n        if (data[0] === 'gtm') {\n            fn = gtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(gtm, args);\n            }\n        }\n\n        if (data[0] === 'dealer-gtm') {\n            fn = dealerGtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(dealerGtm, args);\n            }\n        }\n        \n        if (data[0] === 'cmp' && window.__tcfapi && data[1] === 'onPersonalizedCookiesAllowed' && typeof data[2] === 'function') {\n            var userCallback = data[2];\n\n            var callback = (partialTcData, success) => {\n                if (\n                    success &&\n                    (partialTcData.eventStatus === 'tcloaded' || partialTcData.eventStatus === 'useractioncomplete')\n                ) {\n                    window.__tcfapi('getFullTCData', 2, (tcData) => {\n                        if (tcData.purpose.legitimateInterests['25'] && tcData.purpose.consents['26']) {\n                            userCallback();\n                        }\n                        window.__tcfapi('removeEventListener', 2, callback);\n                    });\n                }\n            };\n\n            window.__tcfapi('addEventListener', 2, callback);\n        }\n    }\n\n    var ut = window.ut || (window.ut = []);\n\n    if (ut.push === Array.prototype.push) {\n        ut.push = function () {\n            Array.prototype.push.apply(window.ut, arguments);\n            processCommand.apply({}, arguments);\n        };\n\n        ut.forEach(processCommand);\n    }\n\n    require('./trackingElement');\n\n    module.exports = {\n        gtm: gtm,\n        ut: ut,\n    };\n};\n\nrequire('./clickTrackingAttributes.js');\n\n// if (window.location.hostname.split('.').pop() === 'de') {\n//     require('./ivw');\n// }\n\nif (window.location.hostname.split('.').pop() === 'at') {\n    require('./oewa');\n}\n\nconst run = () => {\n    if (!trackingEnabled) {\n        console.log('Tracking disabled');\n        return;\n    }\n\n    startTracking();\n};\n\nrun();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var isObject = require('amp-is-object');\n\n\nmodule.exports = function(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            obj[prop] = source[prop];\n        }\n    }\n    return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-extend/extend.js","module.exports = function isObject(obj) {\n    var type = typeof obj;\n    return !!obj && (type === 'function' || type === 'object');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-is-object/is-object.js","var extend = require('amp-extend');\n\nmodule.exports = function merge() {\n    var args = [].slice.call(arguments);\n    args.unshift({});\n    return extend.apply(this, args);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/amp-merge/merge.js","// TODO: this is an experimental feature.\n// If this works well, we have to document it.\n\nwindow.addEventListener('click', (e) => {\n    window.dataLayer = window.dataLayer || [];\n\n    let node = e.target;\n\n    do {\n        const rawValue = node.getAttribute('data-click-datalayer-push');\n        if (rawValue) {\n            try {\n                // TODO: Check if we can use something like `eval` but more secure to allow JS style objects\n                // aka. objects without quotes around key names or some computation inside\n                // e.g. { event: \"event_trigger\", event_category: \"category\", event_action: \"action\" }\n                // Don't use `eval` or `new Function(...)` directly because they execute anything => XSS attack\n\n                const value = JSON.parse(rawValue);\n                window.dataLayer.push(value);\n            } catch (e) {\n                console.error('Cannot parse tracking value', rawValue, node);\n            }\n        }\n        node = node.parentNode;\n    } while (node && node.getAttribute);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/clickTrackingAttributes.js","var doc = document;\n\nfunction readCookie(name, options) {\n    if (!name) {\n        return null;\n    }\n\n    var decodingFunction = (options && options.decodingFunction) || decodeURIComponent;\n\n    return (\n        decodingFunction(\n            doc.cookie.replace(\n                new RegExp(\n                    '(?:(?:^|.*;)\\\\s*' +\n                        encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') +\n                        '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'\n                ),\n                '$1'\n            )\n        ) || null\n    );\n}\n\nfunction setCookie(name, value, options) {\n    if (!name || /^(?:expires|max\\-age|path|domain|secure)$/i.test(name)) {\n        return false;\n    }\n\n    var expiresString = '';\n\n    if (options.expires) {\n        var date = new Date();\n        date.setTime(+date + options.expires);\n        expiresString = '; expires=' + date.toGMTString();\n    }\n\n    options.encodingFunction = options.encodingFunction || encodeURIComponent;\n\n    document.cookie =\n        encodeURIComponent(name) +\n        '=' +\n        options.encodingFunction(value) +\n        expiresString +\n        (options.domain ? '; domain=' + options.domain : '') +\n        (options.path ? '; path=' + options.path : '') +\n        (options.secure ? '; secure' : '');\n\n    return true;\n}\n\nfunction removeCookie(name, options) {\n    if (hasCookie(name)) {\n        return false;\n    }\n    document.cookie =\n        encodeURIComponent(name) +\n        '=; expires=Thu, 01 Jan 1970 00:00:00 GMT' +\n        (name ? '; domain=' + options.domain : '') +\n        (options.path ? '; path=' + options.path : '');\n    return true;\n}\n\nfunction hasCookie(name) {\n    if (!name) {\n        return false;\n    }\n    return new RegExp('(?:^|;\\\\s*)' + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=').test(\n        document.cookie\n    );\n}\n\nmodule.exports = {\n    read: readCookie,\n    set: setCookie,\n    remove: removeCookie,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cookieHelper.js","var currentVehicles = [];\n\nfunction add(data) {\n    currentVehicles.push(data);\n}\n\nfunction commit() {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        list_productidsall: currentVehicles,\n    });\n\n    currentVehicles = [];\n}\n\nmodule.exports = {\n    add: add,\n    commit: commit,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dealer-gtm.js","var cookieHelper = require('./cookieHelper');\n\nconst waitTillGA4PageView = (callback) => {\n    if (window.dataLayer.some((e) => e.event === 'page_view')) {\n        callback();\n    } else {\n        setTimeout(() => waitTillGA4PageView(callback), 100);\n    }\n};\n\nconst ssoToken = () => {\n    const res = cookieHelper.read('sso');\n\n    return res ? (res.trim().length > 0 ? res : null) : null;\n};\n\nconst parseJwt = (token) => {\n    const partials = token.split('.');\n    const jsonPayload = decodeURIComponent(atob(partials[1]));\n\n    try {\n        return JSON.parse(jsonPayload);\n    } catch (e) {\n        return undefined;\n    }\n};\n\nconst fallbackToUserCookie = () => {\n    const userCookie = cookieHelper.read('User');\n\n    if (!userCookie || userCookie.toLowerCase().indexOf('customerid=') === -1) return;\n\n    const userCookieArray = userCookie.toLowerCase().split('&');\n\n    for (const el of userCookieArray) {\n        if (el.match(/customerid=/i)) {\n            return el.split('=')[1];\n        }\n        if (el.match(/customerid\\(/i)) {\n            const variantCustomerId = el.match(/\\((.*?)\\)/);\n            return variantCustomerId ? variantCustomerId[1] : undefined;\n        }\n    }\n    return undefined;\n};\n\nconst dealerId = () => {\n    const token = ssoToken();\n\n    const user = token ? parseJwt(token) : { ctid: fallbackToUserCookie() };\n\n    if (user && user.ctid !== '') {\n        return user.ctid;\n    } else {\n        return undefined;\n    }\n};\n\nconst ga4ClientId = () => {\n    const clientIdCookie = cookieHelper.read('_asga');\n\n    if (!clientIdCookie) return;\n\n    const splitted_cookie = clientIdCookie.split('.');\n    return splitted_cookie[2] + '.' + splitted_cookie[3];\n};\n\nconst gaUserId = () => {\n    const visitorCookie = cookieHelper.read('as24Visitor');\n\n    return visitorCookie ? visitorCookie : undefined;\n};\n\nconst loginStatus = () => {\n    // this function needs to be updated when its original function from showcar-react updated\n    return 'not_logged_in';\n};\n\nconst adBlockerUsage = () => {\n    // this function needs to be updated when its original function from showcar-react updated\n    return 'adblock active';\n};\n\nconst customerId = (classifiedCustomerId, dealerId, chefplatzDealerId) => {\n    // this function needs to be updated when its original function from showcar-react updated\n    return classifiedCustomerId || dealerId || chefplatzDealerId;\n};\n\nmodule.exports = {\n    waitTillGA4PageView: waitTillGA4PageView,\n    dealerId: dealerId,\n    ga4ClientId: ga4ClientId,\n    gaUserId: gaUserId,\n    loginStatus: loginStatus,\n    adBlockerUsage: adBlockerUsage,\n    customerId: customerId,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ga4-event-parameters.js","const {\n    waitTillGA4PageView,\n    dealerId,\n    ga4ClientId,\n    gaUserId,\n    loginStatus,\n    adBlockerUsage,\n    customerId,\n} = require('./ga4-event-parameters');\n\nconst trackGA4Event = (event, otherData) => {\n    if (event.name.indexOf('_') === -1) throw new Error('Event name must follow naming convention: {feature}_{action}');\n\n    window.dataLayer = window.dataLayer || [];\n    const eventDetails = !event.details\n        ? undefined\n        : Object.entries(event.details)\n              .map(([key, value]) => `${key}=${value}`)\n              .join(';');\n\n    waitTillGA4PageView(() => {\n        if (otherData) {\n            window.dataLayer.push(otherData);\n        }\n\n        window.dataLayer.push({\n            event: 'ga4_event',\n            event_name: event.name,\n            event_type: event.type,\n            event_details: eventDetails,\n        });\n    });\n};\n\nconst trackGA4PageViewEvent = (eventData, dataLayerVariables) => {\n    window.dataLayer = window.dataLayer || [];\n    const common_countryObj = window.dataLayer.find((x) => x.common_country);\n    const country = common_countryObj && common_countryObj.common_country;\n    if (!country) {\n        throw new Error('COMMON_COUNTRY_NOT_SET');\n    }\n\n    if (dataLayerVariables) {\n        window.dataLayer.push(dataLayerVariables);\n    }\n\n    const dealerIdValue = dealerId();\n    const market = window.document.location.hostname.split('.').pop() || undefined;\n\n    window.dataLayer.push(\n        Object.assign(\n            {\n                event_name: 'page_view',\n                event_type: 'page_load',\n                content_id: 'all',\n                dealer_id: dealerIdValue,\n                ga4_client_id: ga4ClientId(),\n                ga_user_id: gaUserId(),\n                login_status: loginStatus(),\n                adblocker_usage: adBlockerUsage(),\n                customer_id: customerId(undefined, dealerIdValue, undefined), // needed classified_customerId and chefplatz_ad_dealer_id dataLayervariables. How to get them?,  this line needs to be revisited when the original code from showcar-react updated\n                market: market,\n            },\n            eventData\n        )\n    );\n\n    window.dataLayer.push({ event: 'page_view' });\n};\n\nmodule.exports = { trackGA4Event: trackGA4Event, trackGA4PageViewEvent: trackGA4PageViewEvent };\n\n\n\n// WEBPACK FOOTER //\n// ./src/ga4-tracking.js","var containerIdsByTld = {\n    de: 'GTM-MK57H2',\n    at: 'GTM-WBZ87G',\n    be: 'GTM-5BWB2M',\n    lu: 'GTM-NDBDCZ',\n    es: 'GTM-PS6QHN',\n    fr: 'GTM-PD93LD',\n    it: 'GTM-WTCSNR',\n    nl: 'GTM-TW48BJ',\n    com: 'GTM-KWX9NX',\n};\n\nvar isIdentityPage = function (hostname) {\n    return hostname === \"accounts.autoscout24.com\";\n};\n\nvar extractTldFromRedirectUrl = function (url) {\n    // search for ui_locales=xx in URL\n    var regexp = new RegExp(/ui_locales=([a-z]+)/g);\n    var matches = window.location.href.match(regexp);\n    var tld = 'com';\n\n    if (matches) {\n        var match = matches.join(''); // i.e. ui_locales=de\n        tld = match.split('=')[1];\n    }\n\n    return tld;\n};\n\nmodule.exports = function (hostname) {\n    var tld = isIdentityPage(hostname) ? extractTldFromRedirectUrl(window.location.href) : hostname.split('.').pop();\n    return containerIdsByTld[tld] || containerIdsByTld['com'];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/getGtmContainerId.js","var dataLayer = (window.dataLayer = window.dataLayer || []);\nvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\nvar domainsThatRequireConsent = ['at', 'fr', 'nl'];\n\nmodule.exports = {\n    loadContainer: function (containerId) {\n        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n        var alreadyInitiatedMainGtmContainerLoaded =\n            document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\n        if (alreadyInitiatedMainGtmContainerLoaded) {\n            // preventing duplicated load of main GTM container\n            return;\n        }\n\n        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\n        var tld = window.location.hostname.split('.').pop();\n        if (domainsThatRequireConsent.includes(tld) && window.__tcfapi) {\n            const callback = (tcData, success) => {\n                if (success && (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete')) {\n                    window.__tcfapi('removeEventListener', 2, () => { }, tcData.listenerId);\n                    __tcfapi('getTCData', 2, function (tcData, success) {\n                        if (\n                            success &&\n                            tcData.purpose.consents[1] &&\n                            tcData.purpose.consents[2] &&\n                            tcData.purpose.consents[3] &&\n                            tcData.purpose.consents[4] &&\n                            tcData.purpose.consents[5] &&\n                            tcData.purpose.consents[6] &&\n                            tcData.purpose.consents[7] &&\n                            tcData.purpose.consents[8] &&\n                            tcData.purpose.consents[9] &&\n                            tcData.purpose.consents[10]\n                        ) {\n                            loadContainer();\n                        }\n                    });\n                }\n            };\n            window.__tcfapi('addEventListener', 2, callback);\n        } else {\n            loadContainer();\n        }\n\n        function loadContainer() {\n            (function (w, d, s, l, i) {\n                w[l] = w[l] || [];\n                w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n                var f = d.getElementsByTagName(s)[0],\n                    j = d.createElement(s),\n                    dl = l != 'dataLayer' ? '&l=' + l : '';\n                j.async = true;\n                j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n                f.parentNode.insertBefore(j, f);\n            })(window, document, 'script', 'dataLayer', containerId);\n        }\n    },\n\n    push: function () {\n        if (!arguments.length) {\n            return;\n        }\n\n        var args = [].slice.call(arguments);\n\n        args.map(function (data) {\n            for (var key in data) {\n                if (!useNewArrayLogic || typeof data[key] === 'string') {\n                    data[key] = toLower(data[key]);\n                }\n            }\n\n            return data;\n        });\n\n        dataLayer.push.apply(dataLayer, args);\n    },\n};\n\nfunction toLower(val) {\n    return val && ('' + val).toLowerCase();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/googletagmanager.js","var merge = require('amp-merge');\n\nvar gtm = require('./googletagmanager');\nvar containerId = require('./getGtmContainerId')(location.hostname);\nvar viewport = require('./viewport');\n\nvar pagename;\n\nfunction setPagename(pn) {\n    pagename = pn;\n}\n\nfunction generateCommonParams(data) {\n    var mergedPagename = merge({}, pagename, data);\n\n    if (\n        !mergedPagename ||\n        !mergedPagename.country ||\n        !mergedPagename.market ||\n        !mergedPagename.category ||\n        !mergedPagename.pageid ||\n        !mergedPagename.environment\n    ) {\n        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n        }\n        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n    }\n\n    var commonPageName = [\n        mergedPagename.country,\n        mergedPagename.market,\n        mergedPagename.category,\n        mergedPagename.group,\n        mergedPagename.pageid,\n    ]\n        .filter(function (x) {\n            return x;\n        })\n        .join('/');\n\n    if (mergedPagename.layer) {\n        commonPageName += '|' + mergedPagename.layer;\n    }\n\n    var commonData = {\n        common_country: mergedPagename.country,\n        common_market: mergedPagename.market,\n        common_category: mergedPagename.category,\n        common_pageid: mergedPagename.pageid,\n        common_pageName: commonPageName,\n        common_environment: mergedPagename.environment,\n\n        common_language: mergedPagename.language || '',\n        common_group: mergedPagename.group || '',\n        common_layer: mergedPagename.layer || '',\n        common_attribute: mergedPagename.attribute || '',\n\n        common_linkgroup: mergedPagename.linkgroup || '',\n        common_linkid: mergedPagename.linkid || '',\n\n        common_techState: mergedPagename.techState || '',\n    };\n\n    return commonData;\n}\n\nfunction trackClick(params) {\n    if (params.eventcategory && params.eventaction) {\n        gtm.push({\n            event: 'event_trigger',\n            event_category: params.eventcategory,\n            event_action: params.eventaction,\n            event_label: params.eventlabel || '',\n            event_non_interaction: false,\n        });\n    } else {\n        //DEPRECATED\n        gtm.push(generateCommonParams(params));\n        gtm.push({\n            event: 'click',\n        });\n    }\n}\n\nvar firstPageview = true;\n\nfunction trackPageview(data) {\n    if (firstPageview) {\n        gtm.push(viewport);\n    }\n\n    gtm.push(generateCommonParams(data));\n\n    setTimeout(function () {\n        if (firstPageview) {\n            gtm.loadContainer(containerId);\n            gtm.push({\n                event: 'common_data_ready',\n            });\n            gtm.push({\n                event: 'data_ready',\n            });\n            firstPageview = false;\n        } else {\n            gtm.push({\n                event: 'pageview',\n            });\n        }\n    }, 10);\n}\n\nmodule.exports = {\n    setPagename: setPagename,\n    trackClick: trackClick,\n\n    set: gtm.push,\n    pageview: trackPageview,\n    click: trackClick,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/index.js","var viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\nmodule.exports = {\n    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/viewport.js","const path = window.location.pathname;\nconst pixelPath = (() => {\n    switch(true){\n        case RegExp('^\\/$').test(path):\n            return 'Service/Homepage/Homepage';\n            break;\n        case RegExp('(^\\/promo\\/preisbewertung)|(^\\/auto\\-verkaufen)|(^\\/fahrzeugbewertung)|(^\\/promo\\/preisbewertung)').test(path):\n            return 'Service/Sonstiges/Sonstiges';\n            break;\n        case RegExp('(^\\/motorrad)|(^\\/lst)').test(path):\n            return 'Service/Rubrikenmaerkte/Automarkt';\n            break;\n        case RegExp('(^\\/informieren)|(^\\/auto)|(^\\/moto)').test(path):\n            return 'RedCont/AutoUndMotor/AutoUndMotor';\n            break;\n        case RegExp('^\\/unternehmen').test(path):\n            return 'Service/Unternehmenskommunikation/Unternehmenskommunikation';\n            break;\n        default:\n            return 'not_available';\n            break;\n    }\n})();\n\nfunction detailPage(){\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: 'Service/Rubrikenmaerkte/Automarkt', // kategorienpfad  \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction allPages() {\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: pixelPath, // kategorienpfad \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction loadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        const ref = document.getElementsByTagName('script')[0];\n        ref.parentNode.insertBefore(script, ref);\n        script.onload = resolve;\n        script.src = src;\n    });\n}\n\n\nconst onDetailPage = path.startsWith('/angebote') && document.querySelector('as24-tracking[type=pagename]').getAttribute('pageid') === 'detail';\n\n\nif (onDetailPage) {\n    detailPage();\n\n    try {\n        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', (e) => detailPage());\n    } catch(e) {}\n\n    \n} else {\n    if(pixelPath !== 'not_available'){\n        allPages();\n    }   \n}\n\n\n// WEBPACK FOOTER //\n// ./src/oewa.js","var as24tracking = Object.assign(Object.create(HTMLElement.prototype), {\n    inDev: false,\n    supportedActions: ['set', 'click', 'pageview'],\n    supportedTypes: ['gtm', 'pagename'],\n    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\n    attachedCallback() {\n        var values = this.getAdditionalProperties();\n        var type = this.getAttribute('type');\n        var action = this.getAttribute('action');\n        var args = [type, action];\n\n        if (Object.keys(values).length > 0) {\n            args.push(values);\n        }\n\n        if (type === 'pagename') {\n            args.splice(1, 1);\n        }\n\n        var clickTarget = this.getAttribute('as24-tracking-click-target');\n        if (clickTarget) {\n            var elements = document.querySelectorAll(clickTarget);\n\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].addEventListener('click', () => this.track(args));\n            }\n        } else {\n            this.track(args);\n        }\n    },\n\n    getAdditionalProperties() {\n        var trackingValue = this.getAttribute('as24-tracking-value');\n        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\n        if (Array.isArray(values)) {\n            return values;\n        }\n\n        return Array.prototype.slice\n            .call(this.attributes)\n            .filter((element) => !(this.reservedWords.indexOf(element.nodeName) > -1))\n            .reduce((prev, curr) => {\n                var attrName = this.decodeAttributeName(curr.nodeName);\n                prev[attrName] = curr.nodeValue;\n                return prev;\n            }, values);\n    },\n\n    decodeAttributeName(attrName) {\n        if (attrName.indexOf('-') > -1) {\n            attrName = attrName.replace(/-([a-z])/g, function (g) {\n                return g[1].toUpperCase();\n            });\n        }\n        return attrName;\n    },\n\n    track(args) {\n        if (this.inDev) {\n            console.log(args);\n        } else {\n            window.ut = window.ut || [];\n            window.ut.push(args);\n        }\n    },\n});\n\ntry {\n    var ctor = document.createElement('as24-tracking').constructor;\n    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n        document.registerElement('as24-tracking', {\n            prototype: as24tracking,\n        });\n    }\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/trackingElement.js"],"sourceRoot":""}