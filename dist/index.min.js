!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=location.hash.indexOf("tracking-off=true")<0,r=function(){function t(e){var t,n;if("ga4Event"===e[0]&&a.trackGA4Event(e[1],e[2]),"ga4PageviewEvent"===e[0]&&a.trackGA4PageViewEvent(e[1],e[2]),"pagename"===e[0]&&o.setPagename(e[1]),"gtm"===e[0]&&(t=o[e[1]],n=e.slice(2),"function"==typeof t&&t.apply(o,n)),"dealer-gtm"===e[0]&&(t=r[e[1]],n=e.slice(2),"function"==typeof t&&t.apply(r,n)),"cmp"===e[0]&&window.__tcfapi&&"onPersonalizedCookiesAllowed"===e[1]&&"function"==typeof e[2]){var i=e[2],c=function e(t,n){!n||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||window.__tcfapi("getFullTCData",2,function(t){t.purpose.legitimateInterests[25]&&t.purpose.consents[26]&&i(),window.__tcfapi("removeEventListener",2,e)})};window.__tcfapi("addEventListener",2,c)}}var o=n(11),r=n(6),a=n(8),i=window.ut||(window.ut=[]);i.push===Array.prototype.push&&(i.push=function(){Array.prototype.push.apply(window.ut,arguments),t.apply({},arguments)},i.forEach(t)),n(14),e.exports={gtm:o,ut:i}};n(4),"at"===window.location.hostname.split(".").pop()&&n(13);var a=function(){return o?void r():void console.log("Tracking disabled")};a()},function(e,t,n){"use strict";var o=n(2);e.exports=function(e){if(!o(e))return e;for(var t,n,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(n in t)e[n]=t[n]}return e}},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){var t="undefined"==typeof e?"undefined":n(e);return!!e&&("function"===t||"object"===t)}},function(e,t,n){"use strict";var o=n(1);e.exports=function(){var e=[].slice.call(arguments);return e.unshift({}),o.apply(this,e)}},function(e,t){"use strict";window.addEventListener("click",function(e){window.dataLayer=window.dataLayer||[];var t=e.target;do{var n=t.getAttribute("data-click-datalayer-push");if(n)try{var o=JSON.parse(n);window.dataLayer.push(o)}catch(e){console.error("Cannot parse tracking value",n,t)}t=t.parentNode}while(t&&t.getAttribute)})},function(e,t){"use strict";function n(e,t){if(!e)return null;var n=t&&t.decodingFunction||decodeURIComponent;return n(i.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function o(e,t,n){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="";if(n.expires){var r=new Date;r.setTime(+r+n.expires),o="; expires="+r.toGMTString()}return n.encodingFunction=n.encodingFunction||encodeURIComponent,document.cookie=encodeURIComponent(e)+"="+n.encodingFunction(t)+o+(n.domain?"; domain="+n.domain:"")+(n.path?"; path="+n.path:"")+(n.secure?"; secure":""),!0}function r(e,t){return!a(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(e?"; domain="+t.domain:"")+(t.path?"; path="+t.path:""),!0)}function a(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}var i=document;e.exports={read:n,set:o,remove:r}},function(e,t){"use strict";function n(e){r.push(e)}function o(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({list_productidsall:r}),r=[]}var r=[];e.exports={add:n,commit:o}},function(e,t,n){"use strict";var o=n(5),r=function e(t){window.dataLayer.some(function(e){return"page_view"===e.event})?t():setTimeout(function(){return e(t)},100)},a=function(){var e=o.read("sso");return e&&e.trim().length>0?e:null},i=function(e){var t=e.split("."),n=decodeURIComponent(atob(t[1]));try{return JSON.parse(n)}catch(e){return}},c=function(){var e=o.read("User");if(e&&e.toLowerCase().indexOf("customerid=")!==-1){var t=e.toLowerCase().split("&"),n=!0,r=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;if(u.match(/customerid=/i))return u.split("=")[1];if(u.match(/customerid\(/i)){var s=u.match(/\((.*?)\)/);return s?s[1]:void 0}}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}}},u=function(){var e=a(),t=e?i(e):{ctid:c()};return t&&""!==t.ctid?t.ctid:void 0},s=function(){var e=o.read("_asga");if(e){var t=e.split(".");return t[2]+"."+t[3]}},d=function(){var e=o.read("as24Visitor");return e?e:void 0},p=function(){return"not_logged_in"},l=function(){return"adblock active"},m=function(e,t,n){return e||t||n};e.exports={waitTillGA4PageView:r,dealerId:u,ga4ClientId:s,gaUserId:d,loginStatus:p,adBlockerUsage:l,customerId:m}},function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(7),i=a.waitTillGA4PageView,c=a.dealerId,u=a.ga4ClientId,s=a.gaUserId,d=a.loginStatus,p=a.adBlockerUsage,l=a.customerId,m=function(e,t){if(e.name.indexOf("_")===-1)throw new Error("Event name must follow naming convention: {feature}_{action}");window.dataLayer=window.dataLayer||[];var n=e.details?Object.entries(e.details).map(function(e){var t=r(e,2),n=t[0],o=t[1];return n+"="+o}).join(";"):void 0;i(function(){t&&window.dataLayer.push(t),window.dataLayer.push({event:"ga4_event",event_name:e.name,event_type:e.type,event_details:n})})},f=function(e,t){window.dataLayer=window.dataLayer||[];var n=window.dataLayer.find(function(e){return e.common_country}),r=n&&n.common_country;if(!r)throw new Error("COMMON_COUNTRY_NOT_SET");t&&window.dataLayer.push(t);var a=c(),i=window.document.location.hostname.split(".").pop()||void 0;window.dataLayer.push(o({event_name:"page_view",event_type:"page_load",content_id:"all",dealer_id:a,ga4_client_id:u(),ga_user_id:s(),login_status:d(),adblocker_usage:p(),customer_id:l(void 0,a,void 0),market:i},e)),window.dataLayer.push({event:"page_view"})};e.exports={trackGA4Event:m,trackGA4PageViewEvent:f}},function(e,t){"use strict";var n={de:"GTM-MK57H2",at:"GTM-WBZ87G",be:"GTM-5BWB2M",lu:"GTM-NDBDCZ",es:"GTM-PS6QHN",fr:"GTM-PD93LD",it:"GTM-WTCSNR",nl:"GTM-TW48BJ",com:"GTM-KWX9NX"},o=function(e){return"accounts.autoscout24.com"===e},r=function(e){var t=new RegExp(/ui_locales=([a-z]+)/g),n=window.location.href.match(t),o="com";if(n){var r=n.join("");o=r.split("=")[1]}return o};e.exports=function(e){var t=o(e)?r(window.location.href):e.split(".").pop();return n[t]||n.com}},function(e,t){"use strict";function n(e){return e&&(""+e).toLowerCase()}var o=window.dataLayer=window.dataLayer||[],r=window.location.href.indexOf("tracking-arrays=true")>=0,a=["at","fr","nl"];e.exports={loadContainer:function e(t){function e(){!function(e,t,n,o,r){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),c="dataLayer"!=o?"&l="+o:"";i.async=!0,i.src="//www.googletagmanager.com/gtm.js?id="+r+c,a.parentNode.insertBefore(i,a)}(window,document,"script","dataLayer",t)}var n="gtm-main-container-load-initiated",o=document.documentElement.className.indexOf(n)>=0;if(!o){document.documentElement.className+=" "+n;var r=window.location.hostname.split(".").pop();if(a.includes(r)&&window.__tcfapi){var i=function(t,n){!n||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||(window.__tcfapi("removeEventListener",2,function(){},t.listenerId),__tcfapi("getTCData",2,function(t,n){n&&t.purpose.consents[1]&&t.purpose.consents[2]&&t.purpose.consents[3]&&t.purpose.consents[4]&&t.purpose.consents[5]&&t.purpose.consents[6]&&t.purpose.consents[7]&&t.purpose.consents[8]&&t.purpose.consents[9]&&t.purpose.consents[10]&&e()}))};window.__tcfapi("addEventListener",2,i)}else e()}},push:function(){if(arguments.length){var e=[].slice.call(arguments);e.map(function(e){for(var t in e)r&&"string"!=typeof e[t]||(e[t]=n(e[t]));return e}),o.push.apply(o,e)}}}},function(e,t,n){"use strict";function o(e){c=e}function r(e){var t=u({},c,e);if(!(t&&t.country&&t.market&&t.category&&t.pageid&&t.environment)){if("test"!==t.environment||"live"!==t.environment)throw new Error("Invalid environment type, "+JSON.stringify(t));throw new Error("Incorrect pagename, "+JSON.stringify(t))}var n=[t.country,t.market,t.category,t.group,t.pageid].filter(function(e){return e}).join("/");t.layer&&(n+="|"+t.layer);var o={common_country:t.country,common_market:t.market,common_category:t.category,common_pageid:t.pageid,common_pageName:n,common_environment:t.environment,common_language:t.language||"",common_group:t.group||"",common_layer:t.layer||"",common_attribute:t.attribute||"",common_linkgroup:t.linkgroup||"",common_linkid:t.linkid||"",common_techState:t.techState||""};return o}function a(e){e.eventcategory&&e.eventaction?s.push({event:"event_trigger",event_category:e.eventcategory,event_action:e.eventaction,event_label:e.eventlabel||"",event_non_interaction:!1}):(s.push(r(e)),s.push({event:"click"}))}function i(e){l&&s.push(p),s.push(r(e)),setTimeout(function(){l?(s.loadContainer(d),s.push({event:"common_data_ready"}),s.push({event:"data_ready"}),l=!1):s.push({event:"pageview"})},10)}var c,u=n(3),s=n(10),d=n(9)(location.hostname),p=n(12),l=!0;e.exports={setPagename:o,trackClick:a,set:s.push,pageview:i,click:a}},function(e,t){"use strict";var n=Math.min(document.documentElement.clientWidth,window.innerWidth||screen.width);e.exports={session_viewport:n>=994?"l":n>=768?"m":n>=480?"s":"xs"}},function(e,t){"use strict";function n(){r("https://script-at.iocnt.net/iam.js").then(function(){window.iom&&(window.oewa_data={cn:"at",st:"at_w_atascout24",cp:"Service/Rubrikenmaerkte/Automarkt",sv:"mo",ps:"lin"},iom.c(window.oewa_data,1))})}function o(){r("https://script-at.iocnt.net/iam.js").then(function(){window.iom&&(window.oewa_data={cn:"at",st:"at_w_atascout24",cp:i,sv:"mo",ps:"lin"},iom.c(window.oewa_data,1))})}function r(e){return new Promise(function(t){var n=document.createElement("script"),o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o),n.onload=t,n.src=e})}var a=window.location.pathname,i=function(){switch(!0){case RegExp("^/$").test(a):return"Service/Homepage/Homepage";case RegExp("(^/promo/preisbewertung)|(^/auto-verkaufen)|(^/fahrzeugbewertung)|(^/promo/preisbewertung)").test(a):return"Service/Sonstiges/Sonstiges";case RegExp("(^/motorrad)|(^/lst)").test(a):return"Service/Rubrikenmaerkte/Automarkt";case RegExp("(^/informieren)|(^/auto)|(^/moto)").test(a):return"RedCont/AutoUndMotor/AutoUndMotor";case RegExp("^/unternehmen").test(a):return"Service/Unternehmenskommunikation/Unternehmenskommunikation";default:return"not_available"}}(),c=a.startsWith("/angebote")&&"detail"===document.querySelector("as24-tracking[type=pagename]").getAttribute("pageid");if(c){n();try{document.querySelector("as24-carousel").addEventListener("as24-carousel.slide",function(e){return n()})}catch(e){}}else"not_available"!==i&&o()},function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o=n(Object.create(HTMLElement.prototype),{inDev:!1,supportedActions:["set","click","pageview"],supportedTypes:["gtm","pagename"],reservedWords:["type","action","as24-tracking-value","as24-tracking-click-target"],attachedCallback:function(){var e=this,t=this.getAdditionalProperties(),n=this.getAttribute("type"),o=this.getAttribute("action"),r=[n,o];Object.keys(t).length>0&&r.push(t),"pagename"===n&&r.splice(1,1);var a=this.getAttribute("as24-tracking-click-target");if(a)for(var i=document.querySelectorAll(a),c=0;c<i.length;c++)i[c].addEventListener("click",function(){return e.track(r)});else this.track(r)},getAdditionalProperties:function(){var e=this,t=this.getAttribute("as24-tracking-value"),n=t?JSON.parse(t):{};return Array.isArray(n)?n:Array.prototype.slice.call(this.attributes).filter(function(t){return!(e.reservedWords.indexOf(t.nodeName)>-1)}).reduce(function(t,n){var o=e.decodeAttributeName(n.nodeName);return t[o]=n.nodeValue,t},n)},decodeAttributeName:function(e){return e.indexOf("-")>-1&&(e=e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})),e},track:function(e){this.inDev?console.log(e):(window.ut=window.ut||[],window.ut.push(e))}});try{var r=document.createElement("as24-tracking").constructor;r!==HTMLElement&&r!==HTMLUnknownElement||document.registerElement("as24-tracking",{prototype:o})}catch(e){window&&window.console&&window.console.warn('Failed to register CustomElement "as24-tracking".',e)}}]);
//# sourceMappingURL=index.min.js.map