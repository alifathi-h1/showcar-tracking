!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var o=location.hash.indexOf("tracking-off=true")<0,r=function(){function e(t){var e,n;if("ga4Event"===t[0]&&i.trackGA4Event(t[1],t[2]),"ga4PageviewEvent"===t[0]&&i.trackGA4PageViewEvent(t[1],t[2]),"pagename"===t[0]&&o.setPagename(t[1]),"gtm"===t[0]&&(e=o[t[1]],n=t.slice(2),"function"==typeof e&&e.apply(o,n)),"dealer-gtm"===t[0]&&(e=r[t[1]],n=t.slice(2),"function"==typeof e&&e.apply(r,n)),"cmp"===t[0]&&window.__tcfapi&&"onPersonalizedCookiesAllowed"===t[1]&&"function"==typeof t[2]){var a=t[2],c=function t(e,n){!n||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||window.__tcfapi("getFullTCData",2,function(e){e.purpose.legitimateInterests[25]&&e.purpose.consents[26]&&a(),window.__tcfapi("removeEventListener",2,t)})};window.__tcfapi("addEventListener",2,c)}}var o=n(17),r=n(9),i=n(14),a=window.ut||(window.ut=[]);a.push===Array.prototype.push&&(a.push=function(){Array.prototype.push.apply(window.ut,arguments),e.apply({},arguments)},a.forEach(e)),n(20),t.exports={gtm:o,ut:a}};n(8),"at"===window.location.hostname.split(".").pop()&&n(19);var i=function(){return o?void r():void console.log("Tracking disabled")};i()},function(t,e){"use strict";function n(t,e){if(!t)return null;var n=e&&e.decodingFunction||decodeURIComponent;return n(a.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function o(t,e,n){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var o="";if(n.expires){var r=new Date;r.setTime(+r+n.expires),o="; expires="+r.toGMTString()}return n.encodingFunction=n.encodingFunction||encodeURIComponent,document.cookie=encodeURIComponent(t)+"="+n.encodingFunction(e)+o+(n.domain?"; domain="+n.domain:"")+(n.path?"; path="+n.path:"")+(n.secure?"; secure":""),!0}function r(t,e){return!i(t)&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+e.domain:"")+(e.path?"; path="+e.path:""),!0)}function i(t){return!!t&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}var a=document;t.exports={read:n,set:o,remove:r}},function(t,e,n){"use strict";var o=n(1),r=o.read,i=n(4),a=i.ssoToken,c=i.parseJwt,u=function(){var t=s();return t&&t.customerId},s=function(){var t=d();return t||l()},d=function(){var t=a();if(t){var e=c(t);if(e){var n=""!==e.ctid?e.ctid:void 0,o=""!==e.cty?e.cty:void 0;return n&&o?{customerId:n,customerType:o}:void 0}}},l=function(){var t=r("User");if(t){var e=new URLSearchParams(t),n=e.get("CustomerID");n=n?n.replace(/[()]+/g,""):n;var o=e.get("CustomerType");return n&&o?{customerId:n,customerType:o}:void 0}};t.exports={customerId:u,getCustomerInfo:s}},function(t,e,n){"use strict";var o=n(4),r=o.ssoToken,i=o.parseJwt,a="D",c="B",u="P",s=function(){var t=r();if(!t)return"not_logged_in";var e=i(t);if(!e)return"not_logged_in";switch(e.cty){case c:case u:return"logged-in|b2c";case a:return"logged-in|b2b";default:return"logged-in|other"}};t.exports={loginStatus:s,DEALER:a}},function(t,e,n){"use strict";var o=n(1),r=function(t){var e=t.split("."),n=decodeURIComponent(atob(e[1]));try{return JSON.parse(n)}catch(t){return}},i=function(){var t=o.read("sso");return t&&t.trim().length>0?t:null};t.exports={parseJwt:r,ssoToken:i}},function(t,e,n){"use strict";var o=n(6);t.exports=function(t){if(!o(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(n in e)t[n]=e[n]}return t}},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e="undefined"==typeof t?"undefined":n(t);return!!t&&("function"===e||"object"===e)}},function(t,e,n){"use strict";var o=n(5);t.exports=function(){var t=[].slice.call(arguments);return t.unshift({}),o.apply(this,t)}},function(t,e){"use strict";window.addEventListener("click",function(t){window.dataLayer=window.dataLayer||[];var e=t.target;do{var n=e.getAttribute("data-click-datalayer-push");if(n)try{var o=JSON.parse(n);window.dataLayer.push(o)}catch(t){console.error("Cannot parse tracking value",n,e)}e=e.parentNode}while(e&&e.getAttribute)})},function(t,e){"use strict";function n(t){r.push(t)}function o(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({list_productidsall:r}),r=[]}var r=[];t.exports={add:n,commit:o}},function(t,e){"use strict";var n=function(t){function e(t){return"function"==typeof t}function n(t,e){var n=e,o=document.createElement(t),r=void 0;if(n)for(r in n)n.hasOwnProperty(r)&&o.setAttribute(r,n[r]);return o}function o(t,e,n){v?t.attachEvent("on"+e,n):t.addEventListener(e,n,!1)}function r(e,n){(g.debug||n)&&t.console&&t.console.log&&(n?console.error("[ABD] "+e):console.log("[ABD] "+e))}function i(t){r("start beginTest"),_!==!0&&(a(t),k.quick="testing",x.test=setTimeout(function(){c(t,1)},5))}function a(t){var e=document,o=e.body,i="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";return null===t||"string"==typeof t?void r("invalid bait being cast"):(null!==t.style&&(i+=t.style),y=n("div",{class:t.cssClass,style:i}),r("adding bait node to DOM"),void o.appendChild(y))}function c(t,e){var n=void 0,o=document.body,i=!1;if(null===y&&(r("recast bait"),a(t||h)),"string"==typeof t)return r("invalid bait used",!0),void(u()&&setTimeout(function(){},5));for(x.test>0&&(clearTimeout(x.test),x.test=0),null!==o.getAttribute("abp")&&(r("found adblock body attribute"),i=!0),n=0;n<b.nullProps.length;n++){if(null===y[b.nullProps[n]]){e>4&&(i=!0),r("found adblock null attr: "+b.nullProps[n]);break}if(i===!0)break}for(n=0;n<b.zeroProps.length&&i!==!0;n++)0===y[b.zeroProps[n]]&&(e>4&&(i=!0),r("found adblock zero attr: "+b.zeroProps[n]));if(void 0!==window.getComputedStyle){var d=window.getComputedStyle(y,null);"none"!==d.getPropertyValue("display")&&"hidden"!==d.getPropertyValue("visibility")||(e>4&&(i=!0),r("found adblock computedStyle indicator"))}i||e++>=g.maxLoop?(_=i,r("exiting test loop - value: "+_),s(),u()&&setTimeout(function(){},5)):x.test=setTimeout(function(){c(t,e)},g.loopDelay)}function u(){if(null===y)return!0;try{e(y.remove)&&y.remove(),document.body.removeChild(y)}catch(t){}return y=null,!0}function s(){var t=void 0,n=void 0;if(null!==_)for(t=0;t<w.length;t++){n=w[t];try{null!==n&&(e(n.complete)&&n.complete(_),_&&e(n.found)?n.found():_===!1&&e(n.notfound)&&n.notfound())}catch(t){r("Failure in notify listeners "+t.Message,!0)}}}function d(){var e=!1;document.readyState&&"complete"===document.readyState&&(e=!0);var n=function(){i(h,!1)};e?n():o(t,"load",n)}var l="1.0",p="offset",f="client",m=function(){},v=void 0===t.addEventListener,g={loopDelay:50,maxLoop:5,debug:!0,found:m,notfound:m,complete:m},w=[],y=null,h={cssClass:"ad-banner banner_ad adsbygoogle ad_block adslot ad_slot advert1 content-ad"},b={nullProps:[p+"Parent"],zeroProps:[]};b.zeroProps=[p+"Height",p+"Left",p+"Top",p+"Width",p+"Height",f+"Height",f+"Width"];var k={quick:null,remote:null},_=null,x={test:0,download:0};t.adblockDetector={version:l,init:function(t){var e=void 0;if(t){var n={complete:m,found:m,notfound:m};for(e in t)t.hasOwnProperty(e)&&("complete"===e||"found"===e||"notfound"===e?n[e.toLowerCase()]=t[e]:g[e]=t[e]);w.push(n),d()}}}};t.exports={getAdBlocker:n}},function(t,e,n){"use strict";var o=n(10),r=o.getAdBlocker,i=function(t){return new Promise(function(e){return r(t),"undefined"==typeof t.adblockDetector?e("init adblock detector failed"):(t.adblockDetector.init({debug:!1,found:function(){return e("adblock active")},notfound:function(){return e("no adblock detected")}}),void setTimeout(function(){return e("adblock detector failed")},2e3))})};t.exports={adBlockerUsage:i}},function(t,e,n){"use strict";var o=n(1),r=n(2),i=r.getCustomerInfo,a=n(3),c=a.DEALER,u=function t(e){window.dataLayer.some(function(t){return"page_view"===t.event})?e():setTimeout(function(){return t(e)},100)},s=function(){var t=i();return t&&t.customerType===c?t.customerId:void 0},d=function(){var t=o.read("_asga");if(t){var e=t.split(".");return e[2]+"."+e[3]}},l=function(){var t=o.read("as24Visitor");return t?t:void 0};t.exports={waitTillGA4PageView:u,dealerId:s,ga4ClientId:d,as24VisitorId:l}},function(t,e){"use strict";var n=["de","at","be","it","hu","es","fr","lu","nl","bg","cz","ro","hu","int","pl","hr","ru","se","tr","ua"],o=function(t){return n.some(function(e){return e===t})},r=function(){try{var t=window.location.hostname.split(".").pop(),e="com"===t?"int":t;return o(e)?e:void 0}catch(t){return}};t.exports={ga4Market:r}},function(t,e,n){"use strict";var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=function(){function t(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&c.return&&c.return()}finally{if(r)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(12),a=i.waitTillGA4PageView,c=i.dealerId,u=i.ga4ClientId,s=i.as24VisitorId,d=n(3),l=d.loginStatus,p=n(11),f=p.adBlockerUsage,m=n(2),v=m.customerId,g=n(13),w=g.ga4Market,y=function(t,e){if(t.name.indexOf("_")===-1)throw new Error("Event name must follow naming convention: {feature}_{action}");window.dataLayer=window.dataLayer||[];var n=t.details?Object.entries(t.details).map(function(t){var e=r(t,2),n=e[0],o=e[1];return n+"="+o}).join(";"):void 0;a(function(){e&&window.dataLayer.push(e),window.dataLayer.push({event:"ga4_event",event_name:t.name,event_type:t.type,event_details:n})})},h=function(t,e){window.dataLayer=window.dataLayer||[],e&&window.dataLayer.push(e);var n=c();f(window).then(function(e){window.dataLayer.push(o({event_name:"page_view",event_type:"page_load",content_id:"all",dealer_id:n,ga4_client_id:u(),as24_visitor_id:s(),login_status:l(),adblocker_usage:e,customer_id:v(),market:w()},t)),window.dataLayer.push({event:"page_view"})})};t.exports={trackGA4Event:y,trackGA4PageViewEvent:h}},function(t,e){"use strict";var n={de:"GTM-MK57H2",at:"GTM-WBZ87G",be:"GTM-5BWB2M",lu:"GTM-NDBDCZ",es:"GTM-PS6QHN",fr:"GTM-PD93LD",it:"GTM-WTCSNR",nl:"GTM-TW48BJ",com:"GTM-KWX9NX"},o=function(t){return"accounts.autoscout24.com"===t},r=function(t){var e=new RegExp(/ui_locales=([a-z]+)/g),n=window.location.href.match(e),o="com";if(n){var r=n.join("");o=r.split("=")[1]}return o};t.exports=function(t){var e=o(t)?r(window.location.href):t.split(".").pop();return n[e]||n.com}},function(t,e){"use strict";function n(t){return t&&(""+t).toLowerCase()}var o=window.dataLayer=window.dataLayer||[],r=window.location.href.indexOf("tracking-arrays=true")>=0,i=["at","fr","nl"];t.exports={loadContainer:function t(e){function t(){!function(t,e,n,o,r){t[o]=t[o]||[],t[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=e.getElementsByTagName(n)[0],a=e.createElement(n),c="dataLayer"!=o?"&l="+o:"";a.async=!0,a.src="//www.googletagmanager.com/gtm.js?id="+r+c,i.parentNode.insertBefore(a,i)}(window,document,"script","dataLayer",e)}var n="gtm-main-container-load-initiated",o=document.documentElement.className.indexOf(n)>=0;if(!o){document.documentElement.className+=" "+n;var r=window.location.hostname.split(".").pop();if(i.includes(r)&&window.__tcfapi){var a=function(e,n){!n||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||(window.__tcfapi("removeEventListener",2,function(){},e.listenerId),__tcfapi("getTCData",2,function(e,n){n&&e.purpose.consents[1]&&e.purpose.consents[2]&&e.purpose.consents[3]&&e.purpose.consents[4]&&e.purpose.consents[5]&&e.purpose.consents[6]&&e.purpose.consents[7]&&e.purpose.consents[8]&&e.purpose.consents[9]&&e.purpose.consents[10]&&t()}))};window.__tcfapi("addEventListener",2,a)}else t()}},push:function(){if(arguments.length){var t=[].slice.call(arguments);t.map(function(t){for(var e in t)r&&"string"!=typeof t[e]||(t[e]=n(t[e]));return t}),o.push.apply(o,t)}}}},function(t,e,n){"use strict";function o(t){c=t}function r(t){var e=u({},c,t);if(!(e&&e.country&&e.market&&e.category&&e.pageid&&e.environment)){if("test"!==e.environment||"live"!==e.environment)throw new Error("Invalid environment type, "+JSON.stringify(e));throw new Error("Incorrect pagename, "+JSON.stringify(e))}var n=[e.country,e.market,e.category,e.group,e.pageid].filter(function(t){return t}).join("/");e.layer&&(n+="|"+e.layer);var o={common_country:e.country,common_market:e.market,common_category:e.category,common_pageid:e.pageid,common_pageName:n,common_environment:e.environment,common_language:e.language||"",common_group:e.group||"",common_layer:e.layer||"",common_attribute:e.attribute||"",common_linkgroup:e.linkgroup||"",common_linkid:e.linkid||"",common_techState:e.techState||""};return o}function i(t){t.eventcategory&&t.eventaction?s.push({event:"event_trigger",event_category:t.eventcategory,event_action:t.eventaction,event_label:t.eventlabel||"",event_non_interaction:!1}):(s.push(r(t)),s.push({event:"click"}))}function a(t){p&&s.push(l),s.push(r(t)),setTimeout(function(){p?(s.loadContainer(d),s.push({event:"common_data_ready"}),s.push({event:"data_ready"}),p=!1):s.push({event:"pageview"})},10)}var c,u=n(7),s=n(16),d=n(15)(location.hostname),l=n(18),p=!0;t.exports={setPagename:o,trackClick:i,set:s.push,pageview:a,click:i}},function(t,e){"use strict";var n=Math.min(document.documentElement.clientWidth,window.innerWidth||screen.width);t.exports={session_viewport:n>=994?"l":n>=768?"m":n>=480?"s":"xs"}},function(t,e){"use strict";function n(){r("https://script-at.iocnt.net/iam.js").then(function(){window.iom&&(window.oewa_data={cn:"at",st:"at_w_atascout24",cp:"Service/Rubrikenmaerkte/Automarkt",sv:"mo",ps:"lin"},iom.c(window.oewa_data,1))})}function o(){r("https://script-at.iocnt.net/iam.js").then(function(){window.iom&&(window.oewa_data={cn:"at",st:"at_w_atascout24",cp:a,sv:"mo",ps:"lin"},iom.c(window.oewa_data,1))})}function r(t){return new Promise(function(e){var n=document.createElement("script"),o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o),n.onload=e,n.src=t})}var i=window.location.pathname,a=function(){switch(!0){case RegExp("^/$").test(i):return"Service/Homepage/Homepage";case RegExp("(^/promo/preisbewertung)|(^/auto-verkaufen)|(^/fahrzeugbewertung)|(^/promo/preisbewertung)").test(i):return"Service/Sonstiges/Sonstiges";case RegExp("(^/motorrad)|(^/lst)").test(i):return"Service/Rubrikenmaerkte/Automarkt";case RegExp("(^/informieren)|(^/auto)|(^/moto)").test(i):return"RedCont/AutoUndMotor/AutoUndMotor";case RegExp("^/unternehmen").test(i):return"Service/Unternehmenskommunikation/Unternehmenskommunikation";default:return"not_available"}}(),c=i.startsWith("/angebote")&&"detail"===document.querySelector("as24-tracking[type=pagename]").getAttribute("pageid");if(c){n();try{document.querySelector("as24-carousel").addEventListener("as24-carousel.slide",function(t){return n()})}catch(t){}}else"not_available"!==a&&o()},function(t,e){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o=n(Object.create(HTMLElement.prototype),{inDev:!1,supportedActions:["set","click","pageview"],supportedTypes:["gtm","pagename"],reservedWords:["type","action","as24-tracking-value","as24-tracking-click-target"],attachedCallback:function(){var t=this,e=this.getAdditionalProperties(),n=this.getAttribute("type"),o=this.getAttribute("action"),r=[n,o];Object.keys(e).length>0&&r.push(e),"pagename"===n&&r.splice(1,1);var i=this.getAttribute("as24-tracking-click-target");if(i)for(var a=document.querySelectorAll(i),c=0;c<a.length;c++)a[c].addEventListener("click",function(){return t.track(r)});else this.track(r)},getAdditionalProperties:function(){var t=this,e=this.getAttribute("as24-tracking-value"),n=e?JSON.parse(e):{};return Array.isArray(n)?n:Array.prototype.slice.call(this.attributes).filter(function(e){return!(t.reservedWords.indexOf(e.nodeName)>-1)}).reduce(function(e,n){var o=t.decodeAttributeName(n.nodeName);return e[o]=n.nodeValue,e},n)},decodeAttributeName:function(t){return t.indexOf("-")>-1&&(t=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),t},track:function(t){this.inDev?console.log(t):(window.ut=window.ut||[],window.ut.push(t))}});try{var r=document.createElement("as24-tracking").constructor;r!==HTMLElement&&r!==HTMLUnknownElement||document.registerElement("as24-tracking",{prototype:o})}catch(t){window&&window.console&&window.console.warn('Failed to register CustomElement "as24-tracking".',t)}}]);
//# sourceMappingURL=index.min.js.map